(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd343464"],{"09f4":function(t,e,a){},"0a54":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"borderLayout",class:[t.showBorder?"showBorder":"",t.showPadding?"showPadding":""]},[a("div",{staticClass:"header",class:[t.header.showBorder?"showBorder":"",t.header.cssClass],style:t.headerStyle},[t.header.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.header.barHeight},t.header.toolBarStyle]},[t.header.title?a("span",{staticClass:"title"},[t._v(t._s(t.header.title))]):t._e(),a("span",{staticClass:"tool"},[t._t("headerExtraContent")],2),t.header.expand?a("span",{staticClass:"expand",on:{click:t.headerExpandHandler}},[t._v(" "+t._s(t.header.expandText)+" "),a("a-icon",{attrs:{type:t.header.state?"up":"down"}})],1):t._e()]):t._e(),t.header.state?a("div",{staticClass:"layoutCon",style:[{height:" calc(100% - "+(t.header.showBar?""+t.header.barHeight:"0px")+")"},t.header.layoutConStyle]},[a("a-card",{staticClass:"header-card"},[t._t("header")],2)],1):t._e()]),t.layoutCfg.left?a("div",{staticClass:"left",class:[t.left.showBorder?"showBorder":"",t.left.cssClass],style:t.leftStyle},[t.left.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.left.barHeight},t.left.toolBarStyle]},[t.left.title&&t.left.state?a("span",{staticClass:"title"},[t._v(t._s(t.left.title))]):t._e(),t.left.state?a("span",{staticClass:"tool"},[t._t("leftExtraContent")],2):t._e(),t.left.expand?a("span",{staticClass:"expand",staticStyle:{"margin-right":"0px"},on:{click:t.leftExpandHandler}},[t.left.state?a("span",[t._v(t._s(t.left.expandText)+" ")]):t._e(),a("a-icon",{attrs:{type:t.left.state?"left":"right"}})],1):t._e()]):t._e(),a("div",{staticClass:"layoutCon",style:[{height:"calc(100% - "+(t.left.showBar?""+t.left.barHeight:"0px")+")"},t.left.layoutConStyle]},[t.left.state?t._t("left"):t._e()],2)]):t._e(),t.layoutCfg.center?a("div",{staticClass:"center",class:[t.center.cssClass],style:t.centerStyle},[a("a-card",{attrs:{bodyStyle:{padding:"0 10px"}}},[t.center.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.center.barHeight},t.center.toolBarStyle]},[t.center.title?a("span",{staticClass:"title"},[t._v(t._s(t.center.title))]):t._e(),a("span",{staticClass:"tool"},[t._t("centerExtraContent")],2)]):t._e(),a("div",{staticClass:"layoutCon",style:t.centerConStyle},[t._t("default")],2),t.center.showFooter?a("div",{staticClass:"centerFooter",style:{height:t.center.footerHeight}},[t._t("centerFooter")],2):t._e()])],1):t._e(),t.layoutCfg.right?a("div",{staticClass:"right",class:[t.right.showBorder?"showBorder":"",t.right.cssClass],style:t.rightStyle},[t.right.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.right.barHeight},t.right.toolBarStyle]},[t.right.title&&t.right.state?a("span",{staticClass:"title"},[t._v(t._s(t.right.title))]):t._e(),t.right.state?a("span",{staticClass:"tool"},[t._t("rightExtraContent")],2):t._e(),t.right.expand?a("span",{staticClass:"expand",staticStyle:{"margin-right":"0px"},on:{click:t.rightExpandHandler}},[t.right.state?a("span",[t._v(t._s(t.right.expandText)+" ")]):t._e(),a("a-icon",{attrs:{type:t.right.state?"right":"left"}})],1):t._e()]):t._e(),a("div",{staticClass:"layoutCon",style:[{height:" calc(100% - "+(t.right.showBar?""+t.right.barHeight:"0px")+")"},t.right.layoutConStyle]},[t.right.state?t._t("right"):t._e()],2)]):t._e(),t.layoutCfg.footer?a("div",{staticClass:"footer",class:[t.footer.showBorder?"showBorder":"",t.footer.cssClass],style:t.footerStyle},[a("a-card",{attrs:{bodyStyle:{padding:"10px 10px 20px"}}},[t.footer.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.footer.barHeight},t.footer.toolBarStyle]},[t.footer.title?a("span",{staticClass:"title"},[t._v(t._s(t.footer.title))]):t._e(),a("span",{staticClass:"tool"},[t._t("footerExtraContent")],2),t.footer.expand?a("span",{staticClass:"expand",on:{click:t.footerExpandHandler}},[t._v(" "+t._s(t.footer.expandText)+" "),a("a-icon",{attrs:{type:t.footer.state?"down":"up"}})],1):t._e()]):t._e(),t.footer.state?a("div",{staticClass:"layoutCon",style:[{height:" calc(100% - "+(t.footer.showBar?""+t.footer.barHeight:"0px")+")"},t.footer.layoutConStyle]},[t._t("footer")],2):t._e()])],1):t._e()])},i=[],r=(a("99af"),a("5530")),o={name:"TsBorderLayout",props:{layout:{type:Object,default:function(){return{}}},showBorder:{type:Boolean,default:!0},showPadding:{type:Boolean,default:!0},headerCfg:{type:Object,default:function(){return{}}},leftCfg:{type:Object,default:function(){return{}}},centerCfg:{type:Object,default:function(){return{}}},rightCfg:{type:Object,default:function(){return{}}},footerCfg:{type:Object,default:function(){return{}}}},data:function(){var t={header:!1,left:!1,center:!0,right:!1,footer:!1},e={title:"",expand:!1,expandText:"more",showBar:!1,barHeight:"62px",state:!0,showBorder:!0,cssClass:"",toolBarStyle:{},layoutConStyle:{},style:{},expandCallback:function(){}},a={title:"",showBar:!1,ShowFooter:!1,footerHeight:"62px",barHeight:"62px",style:{},expandCallback:function(){}};return{defCfg:e,centerDefCfg:a,defLayout:Object(r["a"])(Object(r["a"])({},t),this.layout),layoutCfg:Object(r["a"])(Object(r["a"])({},t),this.layout)}},computed:{centerConStyle:function(){var t="100%";return t="calc(100% -  ".concat(this.center.showBar?"".concat(this.center.barHeight):"0px","\n        - ").concat(this.center.showFooter?this.center.footerHeight:"0px","\n        )"),Object(r["a"])({height:t},this.center.layoutConStyle)},header:function(){return Object(r["a"])(Object(r["a"])({},this.defCfg),this.headerCfg)},left:function(){return Object(r["a"])(Object(r["a"])({},this.defCfg),this.leftCfg)},center:function(){return Object(r["a"])(Object(r["a"])({},this.centerDefCfg),this.centerCfg)},right:function(){return Object(r["a"])(Object(r["a"])({},this.defCfg),this.rightCfg)},footer:function(){return Object(r["a"])(Object(r["a"])({},this.defCfg),this.footerCfg)},headerStyle:function(){return Object(r["a"])({top:"0px",height:this.layoutCfg.header?this.checkCfgData(this.layoutCfg.header):"auto",width:"100%"},this.header.style)},leftStyle:function(){return Object(r["a"])({top:this.checkCfgData(this.layoutCfg.header),bottom:"0px",left:"0px",width:this.checkCfgData(this.layoutCfg.left)},this.left.style)},rightStyle:function(){return Object(r["a"])({top:this.checkCfgData(this.layoutCfg.header),bottom:this.checkCfgData(this.layoutCfg.footer),right:"0px",width:this.checkCfgData(this.layoutCfg.right)},this.right.style)},centerStyle:function(){return Object(r["a"])({top:this.checkCfgData(this.layoutCfg.header),bottom:this.checkCfgData(this.layoutCfg.footer),left:this.checkCfgData(this.layoutCfg.left),right:this.checkCfgData(this.layoutCfg.right),"margin-top":"10px"},this.center.style)},footerStyle:function(){return Object(r["a"])({bottom:"0px",left:this.checkCfgData(this.layoutCfg.left),right:"0px",height:this.checkCfgData(this.layoutCfg.footer)},this.footer.style)}},created:function(){this.initState()},methods:{initState:function(){!1===this.header.state&&(this.layoutCfg.header=this.header.barHeight),!1===this.left.state&&(this.layoutCfg.left="35px"),!1===this.right.state&&(this.layoutCfg.right="35px"),!1===this.footer.state&&(this.layoutCfg.footer=this.footer.barHeight)},headerExpandHandler:function(){this.header.state=!this.header.state,this.header.state?this.layoutCfg.header=this.layout.header||this.defLayout.header:this.layoutCfg.header=this.header.barHeight,"function"==typeof this.header.expandCallback&&this.header.expandCallback(this.header.state)},leftExpandHandler:function(){this.left.state=!this.left.state,this.left.state?this.layoutCfg.left=this.layout.left||this.defLayout.left:this.layoutCfg.left="35px","function"==typeof this.left.expandCallback&&this.left.expandCallback(this.left.state)},rightExpandHandler:function(){this.right.state=!this.right.state,this.right.state?this.layoutCfg.right=this.layout.right||this.defLayout.right:this.layoutCfg.right="35px","function"==typeof this.right.expandCallback&&this.right.expandCallback(this.right.state)},footerExpandHandler:function(){this.footer.state=!this.footer.state,this.footer.state?this.layoutCfg.footer=this.layout.footer||this.defLayout.footer:this.layoutCfg.footer=this.footer.barHeight,"function"==typeof this.footer.expandCallback&&this.footer.expandCallback(this.footer.state)},checkCfgData:function(t){return isNaN(parseInt(t))?"0px":t}}},n=o,l=(a("e58a"),a("0c7c")),c=Object(l["a"])(n,s,i,!1,null,"49adbafd",null);e["a"]=c.exports},5774:function(t,e,a){},"66b2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ta-search-panel"},[a("a-popover",{attrs:{placement:t.placement,overlayStyle:{width:t.width+"px"},trigger:"manual",manual:""},on:{hide:function(e){t.tabActiveKey="1"}},model:{value:t.searchVisible,callback:function(e){t.searchVisible=e},expression:"searchVisible"}},[a("span",{staticStyle:{"margin-left":"12px"}},[a("span",{on:{click:t.targetClick}},[t._t("target")],2)]),a("template",{slot:"content"},[t.searchVisible?a("a-tabs",{staticClass:"tabs-content",attrs:{"active-key":t.tabActiveKey},on:{change:t.tabChange}},[a("a-icon",{staticClass:"tabs-close",attrs:{slot:"tabBarExtraContent",type:"close"},on:{click:function(e){t.searchVisible=!1}},slot:"tabBarExtraContent"}),a("a-tab-pane",{key:"1",attrs:{tab:"高级查询"}},[a("div",{staticClass:"form-content",class:"formPanelContent_"+t.id,style:{height:t.height-50+"px"},attrs:{id:"formPanelContent_"+t.id}},[t._t("formPanel")],2),a("div",{staticClass:"btn-content"},[a("a-button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.form.resetFields()}}},[t._v(" 重置 ")]),a("a-button",{staticStyle:{"margin-right":"8px"},attrs:{type:"primary",ghost:""},on:{click:t.searchMenuClick}},[t._v(" 搜索 ")]),a("span",{staticClass:"tips"},[t._v("（当前搜索过滤以高级搜索为准）")])],1)])],1):t._e()],1)],2)],1)},i=[],r=(a("4160"),a("c975"),a("a15b"),a("a9e3"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("2909")),o=a("5530"),n={name:"TsSearchPanel",props:{width:{type:Number,default:600},height:{type:Number,default:300},id:{type:[String,Number],required:!0},form:{required:!0},placement:{type:String,default:"bottomRight"}},data:function(){return{searchVisible:!1,tabActiveKey:"1",collapseActiveKey:"0",showSearch:[],url:window.location.href,showClear:!1}},computed:{showSearchLabels:function(){for(var t=document.getElementById("formPanelContent_"+this.id),e=t.getElementsByTagName("label"),a=e.length,s={},i=0;i<a;i++)e[i].attributes.for&&(s[e[i].attributes.for.value]=e[i].attributes.title.value);return s}},created:function(){},mounted:function(){},methods:{searchMenuClick:function(t){var e=this.form.getFieldsValue(),a=Object.keys(e),s={},i={},r=!1;if(a.forEach((function(t){void 0!=e[t]&&(e[t]._isAMomentObject||e[t][0]&&e[t][0]._isAMomentObject?i[t]=e[t]:e[t].length&&(s[t]=e[t]))})),r=!(!Object.keys(s).length&&!Object.keys(i).length),Object.keys(i).length){var n=this.getFormValueLabel(i);n.length&&n.forEach((function(t){var e=t.key,a=t.value;-1!=a.indexOf(",")?s[e]=a.split(", "):s[e]=a}))}t.key&&(r?this.saveForm(s):this.$message.info("没有需要保存的查询条件")),void 0!=t.key&&"1"!==t.key||(this.$emit("search",Object(o["a"])({},s)),r&&(this.showClear=!0),this.searchVisible=!1)},tabChange:function(t){this.tabActiveKey=t,"2"===t&&(this.showSearch=Object(r["a"])(this.getShowSearch()))},getShowSearch:function(){var t=this,e=this.searchStorage.getAll(),a=[];Object.keys(e).forEach((function(s){-1!=s.indexOf("search_"+t.url+"_"+t.id)&&a.push(JSON.parse(e[s]))}));var s=function(t,e){var a=t[2].timeSave,s=e[2].timeSave;return a<s?1:a>s?-1:0};return a.sort(s)},getCurrentTime:function(){var t={},e=new Date;return t.save=e.getFullYear()+""+(e.getMonth()+1>=10?+(e.getMonth()+1):"0"+(e.getMonth()+1))+(e.getDate()>=10?e.getDate():"0"+e.getDate())+(e.getHours()>=10?e.getHours():"0"+e.getHours())+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())+(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds()),t.show=e.getFullYear()+"-"+(e.getMonth()+1>=10?+(e.getMonth()+1):"0"+(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0"+e.getDate())+" "+(e.getHours()>=10?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds()),t},saveForm:function(t){var e=this.getCurrentTime(),a=this.getFormValueLabel(t),s=[t,a,{timeShow:e.show,timeSave:e.save}];this.searchStorage.set("search_"+this.url+"_"+this.id+"_"+e.save,s),this.$message.success("保存成功")},getFormValueLabel:function(t){var e=this,a=Object.keys(t),s=[];return a.forEach((function(t){var a=document.querySelectorAll(".formPanelContent_"+e.id+" #"+t)[0];if(-1!=a.className.indexOf("ant-cascader-input")){if(a.parentNode.innerText.length){var i={label:e.showSearchLabels[t],value:a.parentNode.innerText,key:t};s.push(i)}}else if(-1!=a.className.indexOf("ant-select")&&-1==a.className.indexOf("ant-select-auto-complete")){if(a.value.length){var r=a.getElementsByTagName("li"),o={};if(r.length){for(var n=[],l=0;l<r.length;l++)-1!=r[l].className.indexOf("choice")&&n.push(r[l].innerText);n.length&&(o={label:e.showSearchLabels[t],value:n.join(", "),key:t})}else o={label:e.showSearchLabels[t],value:a.innerText,key:t};s.push(o)}}else if(-1!=a.className.indexOf("ant-calendar-picker")){if(a.childNodes[0].childNodes[0].value.length){var c=a.childNodes[0].childNodes[0].value,h=a.childNodes[0].childNodes[2].value?", "+a.childNodes[0].childNodes[2].value:"",f={label:e.showSearchLabels[t],value:c+h,key:t};s.push(f)}}else if(-1!=a.className.indexOf("ant-time-picker")){if(a.childNodes[0].value.length){var d={label:e.showSearchLabels[t],value:a.childNodes[0].value,key:t};s.push(d)}}else if(-1!=a.className.indexOf("ant-radio-group")){for(var u=0;u<a.children.length;u++)if(-1!=a.children[u].className.indexOf("checked")){var g={label:e.showSearchLabels[t],value:a.children[u].innerText,key:t};s.push(g);break}}else if(-1!=a.className.indexOf("ant-checkbox-group")){for(var y=[],p=0;p<a.children.length;p++)-1!=a.children[p].children[0].className.indexOf("checked")&&y.push(a.children[p].innerText);if(y.length){var b={label:e.showSearchLabels[t],value:y.join(", "),key:t};s.push(b)}}else if(-1!=a.className.indexOf("ta-user-input")&&a.value){var C={label:e.showSearchLabels[t],value:a.innerText,key:t};s.push(C)}else if(a.value.length){var m={label:e.showSearchLabels[t],value:a.value,key:t};s.push(m)}})),s},searchInfo:function(t){this.$emit("search",Object(o["a"])({},t)),this.showClear=!0,this.searchVisible=!1},showConfirm:function(t){var e=this;this.$confirm({title:"确定要删除这条搜索吗？",cancelText:"取消",okText:"确定",onOk:function(){e.searchStorage.remove("search_"+e.url+"_"+e.id+"_"+t),e.showSearch=Object(r["a"])(e.getShowSearch()),e.$message.success("删除成功")}})},targetClick:function(){this.searchVisible=!this.searchVisible,this.tabActiveKey="1",this.collapseActiveKey="0"},clearSearch:function(){var t=this.form,e=t.resetFields,a=t.getFieldsValue;e(),this.$emit("search",Object(o["a"])({},a())),this.showClear=!1}}},l=n,c=(a("a77f"),a("0c7c")),h=Object(c["a"])(l,s,i,!1,null,null,null);e["a"]=h.exports},a77f:function(t,e,a){"use strict";var s=a("09f4"),i=a.n(s);i.a},d2ec:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-operate"},t._l(t.showMenu,(function(e,s){return a("span",{key:s,style:{cursor:e.disabled?"not-allowed":""},attrs:{title:e.disabled?e.title:""}},["confirm"==e.type?a("a-popconfirm",{attrs:{title:e.confirmTitle},on:{confirm:function(a){e.onOk&&e.onOk(t.record,t.index)},cancel:function(a){e.onCancel&&e.onCancel(t.record,t.index)}}},[a("a",{class:e.class,style:e.style,attrs:{title:e.title,disabled:e.disabled}},[e.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:e.icon,theme:e.iconTheme}}):t._e(),t._v(t._s(e.name))],1)]):"more"==e.type?a("a-dropdown",{attrs:{trigger:["click"],overlayClassName:"table-operate-more"}},[a("a",{class:e.class,style:e.style,attrs:{title:e.title,disabled:e.disabled},on:{click:function(a){return t.menuClick(e)}}},[e.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:e.icon,theme:e.iconTheme}}):t._e(),t._v(t._s(e.name)+" "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[t._l(e.moreMenuList,(function(s,i){return[s.isShow?a("a-menu-item",{key:i,attrs:{disabled:s.disabled,title:s.title},on:{click:function(e){return t.menuClick(s)}}},["confirm"==s.type?a("a-popconfirm",{attrs:{title:s.confirmTitle},on:{confirm:function(e){s.onOk&&s.onOk(t.record,t.index)},cancel:function(e){s.onCancel&&s.onCancel(t.record,t.index)}}},[a("div",{class:s.class,style:Object.assign({},{"pointer-events":s.disabled?"none":""},e.style)},[s.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:s.icon,theme:s.iconTheme}}):t._e(),t._v(" "+t._s(s.name))],1)]):a("div",{class:s.class,style:e.style},[s.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:s.icon,theme:s.iconTheme}}):t._e(),t._v(" "+t._s(s.name))],1)],1):t._e()]}))],2)],1):a("a",{class:e.class,style:e.style,attrs:{title:e.title,disabled:e.disabled},on:{click:function(a){return t.menuClick(e)}}},[e.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:e.icon,theme:e.iconTheme}}):t._e(),t._v(t._s(e.name))],1),s!=t.showMenu.length-1?a("a-divider",{attrs:{type:"vertical"}}):t._e()],1)})),0)},i=[],r=(a("a15b"),a("b0c0"),a("5530")),o={name:"TsTableOperate",props:{operateMenu:{type:Array}},computed:{tableTd:function(){return this.getTableTd()},record:function(){return this.tableTd.record},index:function(){return this.tableTd.index},showMenu:function(){return this.getMenu(this.operateMenu)}},methods:{getTableTd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$parent,e={};return e=t.component&&"td"==t.component?t:this.getTableTd(t.$parent),e},getMenu:function(t){for(var e=[],a=(this.record,this.index,0);a<t.length;a++)if(this.getBoolean(t[a].isShow)){var s=Object(r["a"])({},t[a]);s.isShow=!0,s.name=this.getName(s.name,"操作按钮"),s.title=this.getName(s.title,""),s.disabled=this.getBoolean(s.disabled,"disabled"),s.class=s.class?this.getClassStyle(s.class,"class"):void 0,s.style=s.style?this.getClassStyle(s.style):void 0,s.iconTheme=s.iconTheme||"outlined","confirm"==s.type&&(s.confirmTitle=this.getName(s.confirmTitle,"确认删除该信息？")),"more"==s.type&&s.moreMenuList&&s.moreMenuList.length&&(s.moreMenuList=this.getMenu(s.moreMenuList)),"delete"==s.type&&(s.type="confirm",s.confirmTitle=this.getName(s.deleteTitle,"确认删除该信息？"),s.onOk=s.onDelete),e.push(s)}return e},getBoolean:function(t,e){var a;return a=void 0==t?"disabled"!=e:"function"==typeof t?t(this.record,this.index):t,Boolean(a)},getName:function(t,e){var a=e;return void 0!=t&&(a="function"==typeof t?t(this.record,this.index):t),a},getClassStyle:function(t,e){var a=t;return t&&"function"==typeof t&&(a=t(this.record,this.index)),"class"==e&&a instanceof Array&&(a=a.join(" ")),a},menuClick:function(t){"confirm"!=t.type&&t.onClick&&t.onClick(this.record,this.index)}}},n=o,l=a("0c7c"),c=Object(l["a"])(n,s,i,!1,null,null,null);e["a"]=c.exports},e58a:function(t,e,a){"use strict";var s=a("5774"),i=a.n(s);i.a}}]);