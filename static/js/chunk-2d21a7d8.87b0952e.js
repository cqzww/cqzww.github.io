(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a7d8"],{bc78:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"子设备协议名称",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query()}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"添加人员",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query()}},model:{value:e.form.createBy,callback:function(t){e.$set(e.form,"createBy",t)},expression:"form.createBy"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"添加日期范围",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-range-picker",{on:{change:e.onChange},model:{value:e.timeEl,callback:function(t){e.timeEl=t},expression:"timeEl"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"启用/停用",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.enableFlag,callback:function(t){e.$set(e.form,"enableFlag",t)},expression:"form.enableFlag"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("启用")]),a("a-select-option",{attrs:{value:"0"}},[e._v("停用")])],1)],1)],1)],1)],1),a("span",{staticStyle:{float:"left","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"danger"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)]),a("div",{staticStyle:{"margin-top":"45px"}},[a("a-table",{attrs:{rowKey:function(e){return e.id},columns:e.dataColumns,dataSource:e.dataSource,pagination:!1},scopedSlots:e._u([{key:"enableFlag",fn:function(t,n){return a("span",{},[a("a-switch",{attrs:{checked:1==t},on:{change:function(t){return e.onChangeSwitch(n)}}})],1)}},{key:"action",fn:function(t,n){return[a("div",[a("a",{style:{marginRight:"8px"},on:{click:function(){return e.view(n)}}},[e._v("查看")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return e.edit(n)}}},[e._v("编辑")]),a("a-popconfirm",{attrs:{title:"是否确定删除该记录？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.deleteRecord(n)}}},[a("a",{attrs:{href:"#"}},[e._v("删除")])])],1)]}}])}),a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(e){return"总数："+e+" 条"},showSizeChanger:"",showQuickJumper:"",total:e.total,defaultPageSize:10,current:e.pageNumber},on:{change:e.changePage}})],1)],1)],1)},o=[],r=a("dde5"),i=[{title:"子设备协议名称",dataIndex:"name"},{title:"标识符",dataIndex:"subTag"},{title:"启用/停用",dataIndex:"enableFlag",scopedSlots:{customRender:"enableFlag"}},{title:"添加人员",dataIndex:"createBy",scopedSlots:{customRender:"createBy"}},{title:"添加日期",dataIndex:"createTime",scopedSlots:{customRender:"createTime"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],l={data:function(){return{form:{},timeEl:[],dataSource:[],dataColumns:i,total:0,pageNumber:1,pageSize:10}},activated:function(){this.query()},methods:{onChange:function(e,t){this.form.startTime=t[0],this.form.endTime=t[1]},resetForm:function(){this.form={},this.timeEl=[],this.query()},add:function(){this.$router.push({path:"/device/subProtoEdit",query:{}})},query:function(){var e=this,t=this.form;t.pageSize=this.pageSize,t.pageNumber=this.pageNumber,r["a"].querySubDeviceProto(t).then((function(t){var a=t.data;a.serviceSuccess&&(e.dataSource=a.data.pageBean.list,e.total=a.data.pageBean.total>0?a.data.pageBean.total:e.total)}))},changePage:function(e,t){this.pageNumber=e,this.pageSize=t,this.query()},view:function(e){this.$router.push({path:"/device/subProtoInfo",query:{id:e.id}})},edit:function(e){console.log(e),this.$router.push({path:"/device/subProtoEdit",query:{id:e.id}})},deleteRecord:function(e){var t=this;r["a"].deleteSubDeviceProto({id:e.id,delFlag:"1"}).then((function(e){var a=e.data;a.serviceSuccess?(t.$message.success("删除成功"),t.changePage(1,10)):t.$message.success("删除失败")}))}}},c=l,s=a("0c7c"),u=Object(s["a"])(c,n,o,!1,null,"8783652c",null);t["default"]=u.exports}}]);