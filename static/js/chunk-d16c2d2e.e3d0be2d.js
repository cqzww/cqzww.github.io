(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d16c2d2e"],{"26d6":function(t,e,a){"use strict";var o=a("9028"),r=a.n(o);r.a},"597f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ts-border-layout",{attrs:{layout:{footer:"70px"},centerCfg:{showBar:!0,toolBarStyle:{height:"50px",lineHeight:"70px"}},footerCfg:{showBorder:!1}}},[a("div",{class:["center-box",t.layout,t.pageWidth],attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"center-item"},[a("div",{staticClass:"search-input"},[a("a-input-search",{staticClass:"search-ipt",staticStyle:{width:"400px"},attrs:{placeholder:"根据产品名称",enterButton:"搜索"},on:{search:t.searchProduct},model:{value:t.productNameKey,callback:function(e){t.productNameKey=e},expression:"productNameKey"}})],1)]),a("div",{staticClass:"center-item"},[a("ts-search-panel",{attrs:{form:t.form,id:"form",width:700,height:260},on:{search:t.customSearchProduct}},[a("a-button",{attrs:{slot:"target"},slot:"target"},[t._v("高级搜索")]),a("template",{slot:"formPanel"},[a("a-form",{attrs:{form:t.form,layout:t.formLayout}},[t.form?[a("a-row",[a("a-col",{attrs:{span:t.row.col}},[a("a-form-item",{attrs:{label:"产品名称",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["procuctName"],expression:"['procuctName']"}],attrs:{placeholder:"请输入产品名称"}})],1),a("a-form-item",{attrs:{label:"产品类型",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["type"],expression:"['type']"}],attrs:{placeholder:"请输入产品类型"}})],1),a("a-form-item",{attrs:{label:"联网方式",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineType"],expression:"['lineType']"}],attrs:{placeholder:"请输入联网方式"}})],1)],1),a("a-col",{attrs:{span:t.row.col}},[a("a-form-item",{attrs:{label:"添加人员",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user"],expression:"['user']"}],attrs:{placeholder:"请输入添加人员"}})],1),a("a-form-item",{attrs:{label:"添加日期",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["datetime"],expression:"['datetime']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择添加日期"}})],1)],1)],1)]:t._e()],2)],1)],2)],1)]),a("div",{attrs:{slot:"centerExtraContent"},slot:"centerExtraContent"},[a("span",{staticClass:"filter-label"},[t._v("状态：")]),a("a-radio-group",{attrs:{"button-style":"solid",size:"small"},on:{change:t.searchProduct},model:{value:t.isStatus,callback:function(e){t.isStatus=e},expression:"isStatus"}},[t._l(t.CollectionData("STATE"),(function(e,o){return[a("a-radio-button",{key:o,attrs:{value:e.value}},[t._v(t._s(e.label))])]}))],2),a("div",{staticStyle:{float:"right"}},[a("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"add",expression:"`add`",arg:"permission"}],attrs:{type:"primary"},on:{click:t.fnToAddProduct}},[t._v("新增产品")])],1)],1),a("a-table",{attrs:{rowKey:function(t){return t.id},columns:t.productColumns,dataSource:t.productListData,pagination:!1,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.fnOnChange}},scopedSlots:t._u([{key:"status",fn:function(e,o){return a("span",{},[a("a-switch",{attrs:{checked:1==e},on:{change:function(e){return t.onChangeSwitch(o)}}})],1)}}])},[a("span",{attrs:{slot:"action"},slot:"action"},[a("ts-table-operate",{attrs:{operateMenu:t.operateMenu}})],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(t){return"总数："+t+" 条"},showSizeChanger:"",showQuickJumper:"",total:t.total,defaultPageSize:10,current:t.pageNumber},on:{change:t.changeProductPage}})],1)],1),a("a-modal",{attrs:{title:1==t.editType?"添加产品":"编辑产品",width:800,visible:t.showEditProduct,maskClosable:!1},on:{ok:t.handleEditProductOk,cancel:t.handleEditProductCancel}},[a("edit-product",{ref:"eidtProductForm",attrs:{editType:t.editType,rowData:t.productInfoData}})],1)],1)},r=[],s=(a("d81d"),a("5530")),l=a("2f62"),i=a("0a54"),n=a("d2ec"),c=a("66b2"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"产品名称",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"[\n              'name',\n              {\n                rules: [\n                  { required: true, message: 'Please input your note!' },\n                ],\n              },\n            ]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"添加日期",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["datetime"],expression:"['datetime']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择添加日期"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"产品名称",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["procuctName"],expression:"['procuctName']"}],attrs:{placeholder:"产品名称"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"联网方式",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineType"],expression:"['lineType']"}]},[a("a-select-option",{attrs:{value:"1"}},[t._v("内网")]),a("a-select-option",{attrs:{value:"2"}},[t._v("外网")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"通讯协议",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["xieyi"],expression:"['xieyi']"}],attrs:{options:["MQTT","CoAP","Http"]},on:{change:t.onChangeCheckBox}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"节点类型",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["switch",{valuePropName:"checked"}],expression:"['switch', { valuePropName: 'checked' }]"}]})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"节点类型",labelCol:{span:3},wrapperCol:{span:21}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["jiedian"],expression:"['jiedian']"}],attrs:{"button-style":"solid"}},[a("a-radio-button",{attrs:{value:"a"}},[t._v(" 直连设备 ")]),a("a-radio-button",{attrs:{value:"b"}},[t._v(" 网关设备 ")]),a("a-radio-button",{attrs:{value:"d"}},[t._v(" 网关子设备 ")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"进度条",labelCol:{span:3},wrapperCol:{span:21}}},[a("a-slider",{directives:[{name:"decorator",rawName:"v-decorator",value:["slider"],expression:"['slider']"}],staticStyle:{width:"50%"},attrs:{marks:{0:"A",20:"B",40:"C",60:"D",80:"E",100:"F"}}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"数据格式",labelCol:{span:3},wrapperCol:{span:21}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["geshi"],expression:"['geshi']"}],attrs:{"button-style":"solid",size:"small"}},[a("a-radio",{attrs:{value:"a"}},[t._v(" ICA 标准数据格式（iLink JSON) ")]),a("a-radio",{attrs:{value:"b"}},[t._v(" 自定义 ")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:3},wrapperCol:{span:21}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],staticStyle:{height:"100px"},attrs:{placeholder:"备注"}})],1)],1)],1)],1)],1)},u=[],p=(a("b0c0"),{props:["rowData","editType"],data:function(){return{form:this.$form.createForm(this),formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},checkedList:["MQTT"]}},mounted:function(){this.setForm()},methods:{setForm:function(){var t=this;"2"==this.editType&&this.$nextTick((function(){t.form.setFieldsValue({name:t.rowData.name,datetime:t.rowData.datetime})}))},onChangeCheckBox:function(t){},saveForm:function(){console.log("form save"),this.form.resetFields()},cancelForm:function(){this.form.resetFields()}}}),m=p,h=a("0c7c"),f=Object(h["a"])(m,d,u,!1,null,null,null),w=f.exports,y=[{title:"产品名称",dataIndex:"name",key:"name",overflowTooltip:!0},{title:"节点类型",dataIndex:"type",key:"type",overflowTooltip:!0},{title:"连网方式",dataIndex:"lineType",scopedSlots:{customRender:"lineType"}},{title:"启用/禁用",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"添加人员",dataIndex:"user",scopedSlots:{customRender:"user"}},{title:"添加日期",dataIndex:"datetime",scopedSlots:{customRender:"datetime"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],v={components:{TsBorderLayout:i["a"],TsTableOperate:n["a"],TsSearchPanel:c["a"],EditProduct:w},data:function(){var t=this;return{row:{col:12},form:this.$form.createForm(this,{}),formLayout:"horizontal",formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},productNameKey:"",productColumns:y,productListData:[],selectedRowKeys:[],selectedRows:[],total:0,pageNumber:1,pageSize:10,searchType:"normal",operateMenu:[{name:"编辑",disabled:function(t){return"0"==t.system},onClick:function(e){t.fnToEditProduct(e)}},{name:"查看",onClick:function(e){t.fnRouteToDetailMg(e)}},{name:"管理设备",onClick:function(t){}},{name:"删除",type:"confirm",confirmTitle:"确定删除该产品?",onOk:function(t){},title:function(t){return"0"==t.system?"不能删除!":""},disabled:function(t){return"0"==t.system}}],showEditProduct:!1,editType:1,productInfoData:{},isStatus:""}},authorize:{downloadFunc:{type:"permission",check:"download"}},computed:Object(s["a"])({},Object(l["d"])("setting",["layout","pageWidth"])),mounted:function(){this.queryProduct({})},methods:{queryProduct:function(t){this.total=2,this.productListData=[{id:1,name:"标准网关",type:"网关设备",lineType:"",status:1,user:"周",datetime:"2020-01-01"},{id:2,name:"标准网关",type:"网关设备",lineType:"",status:1,user:"周",datetime:"2020-01-01"}]},searchProduct:function(){this.searchType="normal",this.queryProduct(this.getSearchParams({}))},customSearchProduct:function(t){this.searchType="custom",this.queryProduct(this.getSearchParams(t))},getSearchParams:function(t){var e={pageSize:this.pageSize,pageNumber:1};return"normal"==this.searchType?e.productName=this.productNameKey:e=Object(s["a"])(Object(s["a"])({},e),t),this.isStatus&&(e=Object(s["a"])(Object(s["a"])({},e),{},{status:this.isStatus})),e},fnToAddProduct:function(){this.editType=1,this.productInfoData={},this.showEditProduct=!0},fnToEditProduct:function(t){this.editType=2,this.showEditProduct=!0,this.productInfoData=t},fnOnChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},changeProductPage:function(t,e){this.pageNumber=t,this.pageSize=e,this.queryProduct()},downloadFunc:function(){},onChangeSwitch:function(t){this.productListData.map((function(e){e.id==t.id&&(e.status=1==e.status?0:1)}))},handleEditProductOk:function(t){this.$refs.eidtProductForm.saveForm(),this.showEditProduct=!1},handleEditProductCancel:function(t){this.$refs.eidtProductForm.cancelForm(),this.showEditProduct=!1},fnRouteToDetailMg:function(t){this.$router.push({path:"/product/productDetail",query:{id:t.id}})}}},C=v,b=(a("26d6"),Object(h["a"])(C,o,r,!1,null,"e94a5060",null));e["default"]=b.exports},9028:function(t,e,a){}}]);