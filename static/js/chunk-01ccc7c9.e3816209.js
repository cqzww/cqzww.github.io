(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01ccc7c9"],{"13d5":function(e,t,a){"use strict";var n=a("23e7"),r=a("d58f").left,o=a("a640"),s=a("ae40"),i=o("reduce"),l=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!i||!l},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"35a2":function(e,t,a){"use strict";var n=a("447a"),r=a.n(n);r.a},"447a":function(e,t,a){},"61cd":function(e,t,a){},"62ef":function(e,t,a){"use strict";a.r(t);for(var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("div",{class:e.advanced?"search":null},[a("a-form",{attrs:{layout:"horizontal"}},[a("div",{class:e.advanced?null:"fold"},[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"规则编号",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"使用状态",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),a("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"调用次数",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1)],1),e.advanced?a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"更新日期",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"使用状态",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),a("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"描述",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"}})],1)],1)],1):e._e()],1),a("span",{staticStyle:{float:"right","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")]),a("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v(" "+e._s(e.advanced?"收起":"展开")+" "),a("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],1),a("div",[a("div",{staticClass:"operator"},[a("a-button",{attrs:{type:"primary"},on:{click:e.addNew}},[e._v("新建")]),a("a-button",{attrs:{type:"primary"},on:{click:e.showDrawer}},[e._v("新建1")]),a("a-button",[e._v("批量操作")]),a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[a("a-menu-item",{key:"delete"},[e._v("删除")]),a("a-menu-item",{key:"audit"},[e._v("审批")])],1),a("a-button",[e._v(" 更多操作 "),a("a-icon",{attrs:{type:"down"}})],1)],1)],1),a("standard-table",{attrs:{columns:e.columns,dataSource:e.dataSource,selectedRows:e.selectedRows},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t},clear:e.onClear,change:e.onChange,selectedRowChange:e.onSelectChange},scopedSlots:e._u([{key:"description",fn:function(t){var n=t.text;return a("div",{},[e._v(" "+e._s(n)+" ")])}},{key:"action",fn:function(t){t.text;var n=t.record;return a("div",{},[a("a",{staticStyle:{"margin-right":"8px"}},[a("a-icon",{attrs:{type:"plus"}}),e._v("新增 ")],1),a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(t){return e.editRow(n)}}},[a("a-icon",{attrs:{type:"edit"}}),e._v("编辑 ")],1),a("a",{on:{click:function(t){return e.deleteRecord(n.key)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v("删除1 ")],1),a("a",{directives:[{name:"auth",rawName:"v-auth:permission",value:"delete",expression:"`delete`",arg:"permission"}],on:{click:function(t){return e.deleteRecord(n.key)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v("删除2 ")],1),a("a",{directives:[{name:"auth",rawName:"v-auth:permission",value:"add",expression:"`add`",arg:"permission"}],on:{click:function(t){return e.deleteRecord1(n.key)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v("add ")],1)])}}])},[a("template",{slot:"statusTitle"},[a("a-icon",{attrs:{type:"info-circle"},nativeOn:{click:function(t){return e.onStatusTitleClick(t)}}})],1)],2)],1),e.visible?a("edit-form",{attrs:{visible:e.visible,editType:e.editType,rowData:e.rowData},on:{close:function(t){e.visible=!1},addSuccess:e.addSuccess}}):e._e()],1)],1)},r=[],o=(a("4de4"),a("c740"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"standard-table"},[a("div",{staticClass:"alert"},[e.selectedRows?a("a-alert",{attrs:{type:"info","show-icon":!0}},[a("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[e._v(" 已选择 "),a("a",[e._v(e._s(e.selectedRows.length))]),e._v(" 项 "),a("a",{staticClass:"clear",on:{click:e.onClear}},[e._v("清空")]),e._l(e.needTotalList,(function(t,n){return[t.needTotal?a("div",{key:n},[e._v(" "+e._s(t.title)+"总计 "),a("a",[e._v(e._s(t.customRender?t.customRender(t.total):t.total))])]):e._e()]}))],2)]):e._e()],1),a("a-table",{attrs:{bordered:e.bordered,loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowKey:e.rowKey,pagination:e.pagination,expandedRowKeys:e.expandedRowKeys,expandedRowRender:e.expandedRowRender,rowSelection:e.selectedRows?{selectedRowKeys:e.selectedRowKeys,onChange:e.updateSelect}:void 0},on:{change:e.onChange},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots).filter((function(e){return"expandedRowRender"!==e})),(function(t){return{key:t,fn:function(a,n,r){return[e._t(t,null,null,{text:a,record:n,index:r})]}}})),{key:e.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(t,a,n,r){return[e._t(e.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:t,index:a,indent:n,expanded:r})]}}],null,!0)},[e._l(Object.keys(e.$slots),(function(t){return a("template",{slot:t},[e._t(t)],2)}))],2)],1)}),s=[],i=(a("d81d"),a("13d5"),a("5530")),l={name:"StandardTable",props:{bordered:Boolean,loading:[Boolean,Object],columns:Array,dataSource:Array,rowKey:{type:[String,Function],default:"key"},pagination:{type:[Object,Boolean],default:!0},selectedRows:Array,expandedRowKeys:Array,expandedRowRender:Function},data:function(){return{needTotalList:[]}},methods:{updateSelect:function(e,t){this.$emit("update:selectedRows",t),this.$emit("selectedRowChange",e,t)},initTotalList:function(e){var t=e.filter((function(e){return e.needTotal})).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{total:0})}));return t},onClear:function(){this.updateSelect([],[]),this.$emit("clear")},onChange:function(e,t,a,n){var r=n.currentDataSource;this.$emit("change",e,t,a,{currentDataSource:r})}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function(e){this.needTotalList=this.needTotalList.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{total:e.reduce((function(e,a){return e+a[t.dataIndex]}),0)})}))}},computed:{selectedRowKeys:function(){var e=this;return this.selectedRows.map((function(t){return"function"===typeof e.rowKey?e.rowKey(t):t[e.rowKey]}))}}},c=l,d=(a("a6a3"),a("0c7c")),u=Object(d["a"])(c,o,s,!1,null,"ba4cc1d4",null),p=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"1"==e.editType?"添加":"编辑",width:480,visible:e.visible,"body-style":{paddingBottom:"80px"}},on:{close:e.closeEdit}},[a("a-form",{attrs:{form:e.form,layout:"vertical"}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"规则编号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["no",{rules:[{required:!0,message:"Please enter user name"}]}],expression:"[\n              'no',\n              {\n                rules: [\n                  { required: true, message: 'Please enter user name' },\n                ],\n              },\n            ]"}],attrs:{placeholder:"Please enter user name"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"调用共次数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["callNo",{rules:[{required:!0,message:"Please enter callNo"}]}],expression:"[\n              'callNo',\n              {\n                rules: [{ required: true, message: 'Please enter callNo' }],\n              },\n            ]"}],attrs:{placeholder:"Please enter callNo"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"状态"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"Please choose the approver"}]}],expression:"[\n              'status',\n              {\n                rules: [\n                  { required: true, message: 'Please choose the approver' },\n                ],\n              },\n            ]"}],attrs:{placeholder:"Please choose the approver"}},[a("a-select-option",{attrs:{value:"jack"}},[e._v("1 ")]),a("a-select-option",{attrs:{value:"tom"}},[e._v(" 2 ")])],1)],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"更新时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["updatedAt",{rules:[{required:!0,message:"Please choose the dateTime"}]}],expression:"[\n              'updatedAt',\n              {\n                rules: [\n                  { required: true, message: 'Please choose the dateTime' },\n                ],\n              },\n            ]"}],staticStyle:{width:"100%"},attrs:{"get-popup-container":function(e){return e.parentNode}}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[{required:!0,message:"Please enter url description"}]}],expression:"[\n              'description',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Please enter url description',\n                  },\n                ],\n              },\n            ]"}],attrs:{rows:4,placeholder:"please enter url description"}})],1)],1)],1)],1),a("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v(" 取消 ")]),a("a-button",{attrs:{type:"primary"},on:{click:e.onOk}},[e._v(" 保存 ")])],1)],1)},m=[],h=(a("c1df"),{props:["visible","editType","rowData"],data:function(){return{form:this.$form.createForm(this),formData:{}}},mounted:function(){this.setValue()},methods:{setValue:function(){var e=this;setTimeout((function(){e.initValue()}),300)},initValue:function(){this.form.setFieldsValue(this.rowData)},closeEdit:function(){this.$emit("close")},onClose:function(){this.form.resetFields()},onOk:function(){var e=this.form.getFieldsValue();e=Object(i["a"])(Object(i["a"])({},e),{},{key:Math.floor(1e3*Math.random()),updatedAt:e.updatedAt.format("YYYY-MM-DD")}),this.$emit("addSuccess",e)}}}),v=h,w=Object(d["a"])(v,f,m,!1,null,null,null),y=w.exports,g=[{title:"规则编号",dataIndex:"no"},{title:"描述",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"服务调用次数",dataIndex:"callNo",sorter:!0,needTotal:!0,customRender:function(e){return e+" 次"}},{dataIndex:"status",needTotal:!0,slots:{title:"statusTitle"}},{title:"更新时间",dataIndex:"updatedAt",sorter:!0},{title:"操作",scopedSlots:{customRender:"action"}}],b=[],R=0;R<100;R++)b.push({key:R,no:"NO "+R,description:"这是一段描述",callNo:Math.floor(1e3*Math.random()),status:Math.floor(10*Math.random())%4,updatedAt:"2018-07-26"});var _={name:"QueryList",components:{StandardTable:p,EditForm:y},data:function(){return{form:this.$form.createForm(this),visible:!1,editType:"1",rowData:{},advanced:!0,columns:g,dataSource:b,selectedRows:[]}},authorize:{deleteRecord:{type:"permission",check:"delete"},deleteRecord1:{type:"permission",check:"add"}},methods:{deleteRecord:function(e){this.dataSource=this.dataSource.filter((function(t){return t.key!==e})),this.selectedRows=this.selectedRows.filter((function(t){return t.key!==e}))},toggleAdvanced:function(){this.advanced=!this.advanced},remove:function(){var e=this;this.dataSource=this.dataSource.filter((function(t){return-1===e.selectedRows.findIndex((function(e){return e.key===t.key}))})),this.selectedRows=[]},onClear:function(){this.$message.info("您清空了勾选的所有行")},onStatusTitleClick:function(){this.$message.info("你点击了状态栏表头")},onChange:function(){this.$message.info("表格状态改变了")},onSelectChange:function(){this.$message.info("选中行改变了")},addNew:function(){this.dataSource.unshift({key:this.dataSource.length,no:"NO "+this.dataSource.length,description:"这是一段描述",callNo:Math.floor(1e3*Math.random()),status:Math.floor(10*Math.random())%4,updatedAt:"2018-07-26"})},handleMenuClick:function(e){"delete"===e.key&&this.remove()},showDrawer:function(){this.visible=!0,this.editType="1",this.rowData={}},addSuccess:function(e){this.dataSource.unshift(e),console.log("新增成功")},editRow:function(e){this.visible=!0,this.editType="2",this.rowData=e}}},k=_,x=(a("35a2"),Object(d["a"])(k,n,r,!1,null,"63b4814b",null));t["default"]=x.exports},a6a3:function(e,t,a){"use strict";var n=a("61cd"),r=a.n(n);r.a},d58f:function(e,t,a){var n=a("1c0b"),r=a("7b0b"),o=a("44ad"),s=a("50c4"),i=function(e){return function(t,a,i,l){n(a);var c=r(t),d=o(c),u=s(c.length),p=e?u-1:0,f=e?-1:1;if(i<2)while(1){if(p in d){l=d[p],p+=f;break}if(p+=f,e?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:u>p;p+=f)p in d&&(l=a(l,d[p],p,c));return l}};e.exports={left:i(!1),right:i(!0)}}}]);