(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d2b63fc"],{"1c2e":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-card",{attrs:{title:1==e.editType?"设备添加":"设备编辑"}},[t("a-form",{attrs:{form:e.form,layout:"horizontal"}},[t("a-row",[t("h4",{staticStyle:{"font-weight":"bold"}},[e._v("基础信息")])]),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"设备名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"deviceName"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceName",{rules:[{required:!0,message:"请输入设备名称"}]}],expression:"[\n                'deviceName',\n                { rules: [{ required: true, message: '请输入设备名称' }] },\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"设备ID",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"deviceIdentify"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceIdentify",{rules:[{required:!0,message:"请输入设备ID"}]}],expression:"[\n                'deviceIdentify',\n                { rules: [{ required: true, message: '请输入设备ID' }] },\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"设备密钥",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"deviceSecret"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceSecret",{rules:[{required:!0,message:"请输入设备密钥"}]}],expression:"[\n                'deviceSecret',\n                { rules: [{ required: true, message: '请输入设备密钥' }] },\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"所属项目",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"projectId"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["projectId",{rules:[{required:!0,message:"请选择项目"}]}],expression:"[\n                'projectId',\n                { rules: [{ required: true, message: '请选择项目' }] },\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onProjectChange}},[t("a-select-option",{attrs:{value:"1"}},[e._v(" 金科十年城 ")]),t("a-select-option",{attrs:{value:"2"}},[e._v(" 金科集美嘉悦 ")]),t("a-select-option",{attrs:{value:"3"}},[e._v(" 金科天元道 ")])],1)],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"产品",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"productId"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["productId",{rules:[{required:!0,message:"请选择产品"}]}],expression:"[\n                'productId',\n                { rules: [{ required: true, message: '请选择产品' }] },\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onProductChange}},e._l(e.productList,(function(a){return t("a-select-option",{key:a.id,attrs:{value:JSON.stringify(a)}},[e._v(" "+e._s(a.productName)+" ")])})),1)],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"启动/停用",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"enableFlag"}},[t("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["enableFlag",{valuePropName:"checked",rules:[{required:!0,message:"请选择"}],initialValue:!0}],expression:"['enableFlag', {valuePropName: 'checked', rules: [{ required: true, message: '请选择' }],initialValue: true}]"}]})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{attrs:{label:"备注",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"description"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}],attrs:{rows:4,placeholder:"请输入"}})],1)],1)],1),t("a-row",[t("h4",{staticStyle:{"font-weight":"bold"}},[e._v("拓展信息")])]),t("a-row",[t("a-col",{attrs:{span:16}},[t("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"地址信息",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[t("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"},attrs:{fieldDecoratorId:"longitude"}},[t("label",{staticClass:"swi_label"},[e._v("经度")]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["longitude"],expression:"['longitude']"}],staticStyle:{width:"70%"},attrs:{placeholder:"输入数值"}})],1),t("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[e._v(" - ")]),t("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"},attrs:{fieldDecoratorId:"latitude"}},[t("label",{staticClass:"swi_label"},[e._v("纬度")]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["latitude"],expression:"['latitude']"}],staticStyle:{width:"70%"},attrs:{placeholder:"输入数值"}})],1)],1)],1)],1)],1),t("div",{staticStyle:{width:"50%",margin:"20px auto"}},[t("a-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.saveForm}},[e._v("提交")]),t("a-button",{staticClass:"btn",staticStyle:{"margin-left":"20px"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)},o=[],l=t("dde5"),i={data:function(){return{form:this.$form.createForm(this,{}),formItemLayout:{labelCol:{span:6},wrapperCol:{span:10}},deviceId:this.$route.query.id,editType:"1",productList:[],proObj:{}}},mounted:function(){this.editType=this.deviceId?"2":"1","2"===this.editType&&this.queryDeviceInfo(this.deviceId),this.queryProduct()},methods:{onProjectChange:function(){},onProductChange:function(e){this.proObj=JSON.parse(e)},queryProduct:function(){var e=this,a={pageSize:999,pageNumber:1,enableFlag:1};l["f"].queryProduct(a).then((function(a){var t=a.data;t.serviceSuccess&&(e.productList=t.data.pageBean.list)}))},saveForm:function(){var e=this,a=this.form.getFieldsValue();a.enableFlag=a.enableFlag?"1":"0",a.id=this.deviceId?this.deviceId:null,a.productId=this.proObj.id,a.nodeType=this.proObj.nodeType,this.form.validateFields((function(t,r){t||l["a"].save(a).then((function(a){var t=a.data;t.serviceSuccess?(e.$message.success("保存成功"),e.$router.push({path:"/device/deviceMg/deviceList",query:{}}),e.resetForm()):e.$message.error("保存失败")}))}))},resetForm:function(){this.form.resetFields(),this.deviceId=""},queryDeviceInfo:function(e){var a=this;l["a"].queryDeviceInfo({id:e}).then((function(e){var t=e.data;t.enableFlag="1"==t.enableFlag,a.proObj.nodeType=t.nodeType,a.proObj.productId=t.productId,a.form.setFieldsValue(t);var r={id:t.productId,enableFlag:1,pageNumber:1,pageSize:10};l["f"].queryProduct(r).then((function(e){var t=e.data;a.form.setFieldsValue({productId:t.data.pageBean.list[0].productName})}))}))}}},s=i,d=(t("5c43"),t("0c7c")),c=Object(d["a"])(s,r,o,!1,null,"217f316e",null);a["default"]=c.exports},"5c43":function(e,a,t){"use strict";var r=t("e6f4"),o=t.n(r);o.a},e6f4:function(e,a,t){}}]);