(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26383ac4"],{"1c4c":function(e,t,a){},"45fc":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").some,o=a("a640"),i=a("ae40"),c=o("some"),l=i("some");n({target:"Array",proto:!0,forced:!c||!l},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},6203:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticClass:"navi-left",attrs:{title:"产品",bordered:""}},[a("a-input-search",{staticStyle:{"margin-bottom":"8px"},attrs:{placeholder:"请输入关键词"},on:{change:e.onChange}}),a("a-tree",{attrs:{"expanded-keys":e.expandedKeys,"auto-expand-parent":e.autoExpandParent,"tree-data":e.gData},on:{expand:e.onExpand},scopedSlots:e._u([{key:"title",fn:function(t){var n=t.title;return[n.indexOf(e.searchValue)>-1?a("span",[e._v(" "+e._s(n.substr(0,n.indexOf(e.searchValue)))+" "),a("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v(" "+e._s(n.substr(n.indexOf(e.searchValue)+e.searchValue.length))+" ")]):a("span",[e._v(e._s(n))])]}}])})],1),a("a-card",{staticStyle:{width:"78%",float:"left"}},[a("a-card",{staticStyle:{"margin-bottom":"10px"}},[a("a-form",{attrs:{layout:"horizontal"}},[a("div",[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"设备名称",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryDevice()}},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"启用/停用",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.enableFlag,callback:function(t){e.$set(e.form,"enableFlag",t)},expression:"form.enableFlag"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("启用")]),a("a-select-option",{attrs:{value:"0"}},[e._v("停用")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"激活状态",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.activatedFlag,callback:function(t){e.$set(e.form,"activatedFlag",t)},expression:"form.activatedFlag"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("激活")]),a("a-select-option",{attrs:{value:"0"}},[e._v("未激活")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"在线状态",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.onlineFlag,callback:function(t){e.$set(e.form,"onlineFlag",t)},expression:"form.onlineFlag"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("在线")]),a("a-select-option",{attrs:{value:"0"}},[e._v("离线")])],1)],1)],1)],1)],1),a("span",{staticStyle:{float:"left","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryDevice()}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"danger"},on:{click:function(t){return e.add()}}},[e._v("添加")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",disabled:""},on:{click:function(t){return e.importData()}}},[e._v("导入")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"danger",disabled:""},on:{click:function(t){return e.syncData()}}},[e._v("同步")])],1)])],1),a("a-card",[a("a-table",{attrs:{rowKey:function(e){return e.id},columns:e.dataColumns,dataSource:e.dataSource,pagination:!1},scopedSlots:e._u([{key:"activatedFlag",fn:function(t){return a("span",{},[a("p",{key:t},[e._v(e._s(1==t?"激活":"未激活"))])])}},{key:"onlineFlag",fn:function(t){return a("span",{},[a("p",{key:t},[e._v(e._s(1==t?"在线":"离线"))])])}},{key:"enableFlag",fn:function(t,n){return a("span",{},[a("a-switch",{attrs:{checked:1==t},on:{change:function(t){return e.onChangeSwitch(n)}}})],1)}},{key:"action",fn:function(t,n){return[a("div",{staticClass:"editable-row-operations"},[a("a",{style:{marginRight:"8px"},on:{click:function(){return e.view(n)}}},[e._v("查看")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return e.edit(n)}}},[e._v("编辑")]),a("a-popconfirm",{attrs:{title:"是否确定删除该记录？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.deleteRecord(n)}}},[a("a",{attrs:{href:"#"}},[e._v("删除")])])],1)]}}])}),a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(e){return"总数："+e+" 条"},showSizeChanger:"",showQuickJumper:"",total:e.total,defaultPageSize:10,current:e.pageNumber},on:{change:e.changePage}})],1)],1)],1)},r=[],o=(a("4de4"),a("c975"),a("d81d"),a("45fc"),a("dde5")),i=[{title:"边缘网关",key:"0-0",children:[{title:"标准网关",key:"0-0-0",children:[{title:"硬网关",key:"0-0-0-0"},{title:"软网关",key:"0-0-0-1"}]}]}],c=[],l=function e(t,a){for(var n,r=0;r<a.length;r++){var o=a[r];o.children&&(o.children.some((function(e){return e.key===t}))?n=o.key:e(t,o.children)&&(n=e(t,o.children)))}return n},s=[{title:"设备名称",dataIndex:"deviceName",key:"deviceName",overflowTooltip:!0},{title:"设备ID",dataIndex:"deviceIdentify",key:"deviceIdentify",overflowTooltip:!0,scopedSlots:{customRender:"deviceIdentify"}},{title:"启用/停用",dataIndex:"enableFlag",scopedSlots:{customRender:"enableFlag"}},{title:"激活状态",dataIndex:"activatedFlag",scopedSlots:{customRender:"activatedFlag"}},{title:"在线状态",dataIndex:"onlineFlag",scopedSlots:{customRender:"onlineFlag"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],d={data:function(){return{expandedKeys:[],searchValue:"",autoExpandParent:!0,gData:i,form:{},dataSource:[],dataColumns:s,total:0,pageNumber:1,pageSize:10,proId:this.$route.query.id}},activated:function(){console.log(this.proId),this.queryDevice()},methods:{onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},onChange:function(e){var t=e.target.value,a=c.map((function(e){return e.title.indexOf(t)>-1?l(e.key,i):null})).filter((function(e,t,a){return e&&a.indexOf(e)===t}));Object.assign(this,{expandedKeys:a,searchValue:t,autoExpandParent:!0})},queryDevice:function(){var e=this,t=this.form;t.productId=this.proId,o["a"].queryDevice(t).then((function(t){var a=t.data;a.serviceSuccess&&(e.dataSource=a.data.pageBean.list,e.total=a.data.pageBean.total>0?a.data.pageBean.total:e.total)}))},onChangeSwitch:function(e){var t=this,a="1"===e.enableFlag?"0":"1";o["a"].updateEnableFlag({id:e.id,enableFlag:a}).then((function(e){var a=e.data;a.serviceSuccess&&t.queryDevice()}))},changePage:function(e,t){this.pageNumber=e,this.pageSize=t,this.queryDevice()},resetForm:function(){this.form={}},add:function(){this.$router.push({path:"/device/deviceMg/deviceEdit",query:{}})},edit:function(e){this.$router.push({path:"/device/deviceMg/deviceEdit",query:{id:e.id}})},view:function(e){this.$router.push({path:"/device/deviceMg/deviceTab",query:{id:e.id}})},deleteRecord:function(e){var t=this;o["a"].deleteDevice({id:e.id}).then((function(e){var a=e.data;a.serviceSuccess?(t.$message.success("删除成功"),t.changePage(1,10)):t.$message.success("删除失败")}))},importData:function(){},syncData:function(){}}},u=d,p=(a("b321"),a("0c7c")),f=Object(p["a"])(u,n,r,!1,null,"a0d28926",null);t["default"]=f.exports},b321:function(e,t,a){"use strict";var n=a("1c4c"),r=a.n(n);r.a}}]);