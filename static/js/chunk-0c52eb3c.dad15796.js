(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c52eb3c"],{"0a54":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"borderLayout",class:[t.showBorder?"showBorder":"",t.showPadding?"showPadding":""]},[a("div",{staticClass:"header",class:[t.header.showBorder?"showBorder":"",t.header.cssClass],style:t.headerStyle},[t.header.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.header.barHeight},t.header.toolBarStyle]},[t.header.title?a("span",{staticClass:"title"},[t._v(t._s(t.header.title))]):t._e(),a("span",{staticClass:"tool"},[t._t("headerExtraContent")],2),t.header.expand?a("span",{staticClass:"expand",on:{click:t.headerExpandHandler}},[t._v(" "+t._s(t.header.expandText)+" "),a("a-icon",{attrs:{type:t.header.state?"up":"down"}})],1):t._e()]):t._e(),t.header.state?a("div",{staticClass:"layoutCon",style:[{height:" calc(100% - "+(t.header.showBar?""+t.header.barHeight:"0px")+")"},t.header.layoutConStyle]},[a("a-card",{staticClass:"header-card"},[t._t("header")],2)],1):t._e()]),t.layoutCfg.left?a("div",{staticClass:"left",class:[t.left.showBorder?"showBorder":"",t.left.cssClass],style:t.leftStyle},[t.left.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.left.barHeight},t.left.toolBarStyle]},[t.left.title&&t.left.state?a("span",{staticClass:"title"},[t._v(t._s(t.left.title))]):t._e(),t.left.state?a("span",{staticClass:"tool"},[t._t("leftExtraContent")],2):t._e(),t.left.expand?a("span",{staticClass:"expand",staticStyle:{"margin-right":"0px"},on:{click:t.leftExpandHandler}},[t.left.state?a("span",[t._v(t._s(t.left.expandText)+" ")]):t._e(),a("a-icon",{attrs:{type:t.left.state?"left":"right"}})],1):t._e()]):t._e(),a("div",{staticClass:"layoutCon",style:[{height:"calc(100% - "+(t.left.showBar?""+t.left.barHeight:"0px")+")"},t.left.layoutConStyle]},[t.left.state?t._t("left"):t._e()],2)]):t._e(),t.layoutCfg.center?a("div",{staticClass:"center",class:[t.center.cssClass],style:t.centerStyle},[a("a-card",{attrs:{bodyStyle:{padding:"0 10px"}}},[t.center.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.center.barHeight},t.center.toolBarStyle]},[t.center.title?a("span",{staticClass:"title"},[t._v(t._s(t.center.title))]):t._e(),a("span",{staticClass:"tool"},[t._t("centerExtraContent")],2)]):t._e(),a("div",{staticClass:"layoutCon",style:t.centerConStyle},[t._t("default")],2),t.center.showFooter?a("div",{staticClass:"centerFooter",style:{height:t.center.footerHeight}},[t._t("centerFooter")],2):t._e()])],1):t._e(),t.layoutCfg.right?a("div",{staticClass:"right",class:[t.right.showBorder?"showBorder":"",t.right.cssClass],style:t.rightStyle},[t.right.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.right.barHeight},t.right.toolBarStyle]},[t.right.title&&t.right.state?a("span",{staticClass:"title"},[t._v(t._s(t.right.title))]):t._e(),t.right.state?a("span",{staticClass:"tool"},[t._t("rightExtraContent")],2):t._e(),t.right.expand?a("span",{staticClass:"expand",staticStyle:{"margin-right":"0px"},on:{click:t.rightExpandHandler}},[t.right.state?a("span",[t._v(t._s(t.right.expandText)+" ")]):t._e(),a("a-icon",{attrs:{type:t.right.state?"right":"left"}})],1):t._e()]):t._e(),a("div",{staticClass:"layoutCon",style:[{height:" calc(100% - "+(t.right.showBar?""+t.right.barHeight:"0px")+")"},t.right.layoutConStyle]},[t.right.state?t._t("right"):t._e()],2)]):t._e(),t.layoutCfg.footer?a("div",{staticClass:"footer",class:[t.footer.showBorder?"showBorder":"",t.footer.cssClass],style:t.footerStyle},[a("a-card",{attrs:{bodyStyle:{padding:"10px 10px 20px"}}},[t.footer.showBar?a("div",{staticClass:"toolBar",style:[{height:""+t.footer.barHeight},t.footer.toolBarStyle]},[t.footer.title?a("span",{staticClass:"title"},[t._v(t._s(t.footer.title))]):t._e(),a("span",{staticClass:"tool"},[t._t("footerExtraContent")],2),t.footer.expand?a("span",{staticClass:"expand",on:{click:t.footerExpandHandler}},[t._v(" "+t._s(t.footer.expandText)+" "),a("a-icon",{attrs:{type:t.footer.state?"down":"up"}})],1):t._e()]):t._e(),t.footer.state?a("div",{staticClass:"layoutCon",style:[{height:" calc(100% - "+(t.footer.showBar?""+t.footer.barHeight:"0px")+")"},t.footer.layoutConStyle]},[t._t("footer")],2):t._e()])],1):t._e()])},s=[],l=(a("99af"),a("5530")),i={name:"TsBorderLayout",props:{layout:{type:Object,default:function(){return{}}},showBorder:{type:Boolean,default:!0},showPadding:{type:Boolean,default:!0},headerCfg:{type:Object,default:function(){return{}}},leftCfg:{type:Object,default:function(){return{}}},centerCfg:{type:Object,default:function(){return{}}},rightCfg:{type:Object,default:function(){return{}}},footerCfg:{type:Object,default:function(){return{}}}},data:function(){var t={header:!1,left:!1,center:!0,right:!1,footer:!1},e={title:"",expand:!1,expandText:"more",showBar:!1,barHeight:"62px",state:!0,showBorder:!0,cssClass:"",toolBarStyle:{},layoutConStyle:{},style:{},expandCallback:function(){}},a={title:"",showBar:!1,ShowFooter:!1,footerHeight:"62px",barHeight:"62px",style:{},expandCallback:function(){}};return{defCfg:e,centerDefCfg:a,defLayout:Object(l["a"])(Object(l["a"])({},t),this.layout),layoutCfg:Object(l["a"])(Object(l["a"])({},t),this.layout)}},computed:{centerConStyle:function(){var t="100%";return t="calc(100% -  ".concat(this.center.showBar?"".concat(this.center.barHeight):"0px","\n        - ").concat(this.center.showFooter?this.center.footerHeight:"0px","\n        )"),Object(l["a"])({height:t},this.center.layoutConStyle)},header:function(){return Object(l["a"])(Object(l["a"])({},this.defCfg),this.headerCfg)},left:function(){return Object(l["a"])(Object(l["a"])({},this.defCfg),this.leftCfg)},center:function(){return Object(l["a"])(Object(l["a"])({},this.centerDefCfg),this.centerCfg)},right:function(){return Object(l["a"])(Object(l["a"])({},this.defCfg),this.rightCfg)},footer:function(){return Object(l["a"])(Object(l["a"])({},this.defCfg),this.footerCfg)},headerStyle:function(){return Object(l["a"])({top:"0px",height:this.layoutCfg.header?this.checkCfgData(this.layoutCfg.header):"auto",width:"100%"},this.header.style)},leftStyle:function(){return Object(l["a"])({top:this.checkCfgData(this.layoutCfg.header),bottom:"0px",left:"0px",width:this.checkCfgData(this.layoutCfg.left)},this.left.style)},rightStyle:function(){return Object(l["a"])({top:this.checkCfgData(this.layoutCfg.header),bottom:this.checkCfgData(this.layoutCfg.footer),right:"0px",width:this.checkCfgData(this.layoutCfg.right)},this.right.style)},centerStyle:function(){return Object(l["a"])({top:this.checkCfgData(this.layoutCfg.header),bottom:this.checkCfgData(this.layoutCfg.footer),left:this.checkCfgData(this.layoutCfg.left),right:this.checkCfgData(this.layoutCfg.right),"margin-top":"10px"},this.center.style)},footerStyle:function(){return Object(l["a"])({bottom:"0px",left:this.checkCfgData(this.layoutCfg.left),right:"0px",height:this.checkCfgData(this.layoutCfg.footer)},this.footer.style)}},created:function(){this.initState()},methods:{initState:function(){!1===this.header.state&&(this.layoutCfg.header=this.header.barHeight),!1===this.left.state&&(this.layoutCfg.left="35px"),!1===this.right.state&&(this.layoutCfg.right="35px"),!1===this.footer.state&&(this.layoutCfg.footer=this.footer.barHeight)},headerExpandHandler:function(){this.header.state=!this.header.state,this.header.state?this.layoutCfg.header=this.layout.header||this.defLayout.header:this.layoutCfg.header=this.header.barHeight,"function"==typeof this.header.expandCallback&&this.header.expandCallback(this.header.state)},leftExpandHandler:function(){this.left.state=!this.left.state,this.left.state?this.layoutCfg.left=this.layout.left||this.defLayout.left:this.layoutCfg.left="35px","function"==typeof this.left.expandCallback&&this.left.expandCallback(this.left.state)},rightExpandHandler:function(){this.right.state=!this.right.state,this.right.state?this.layoutCfg.right=this.layout.right||this.defLayout.right:this.layoutCfg.right="35px","function"==typeof this.right.expandCallback&&this.right.expandCallback(this.right.state)},footerExpandHandler:function(){this.footer.state=!this.footer.state,this.footer.state?this.layoutCfg.footer=this.layout.footer||this.defLayout.footer:this.layoutCfg.footer=this.footer.barHeight,"function"==typeof this.footer.expandCallback&&this.footer.expandCallback(this.footer.state)},checkCfgData:function(t){return isNaN(parseInt(t))?"0px":t}}},r=i,n=(a("e58a"),a("0c7c")),c=Object(n["a"])(r,o,s,!1,null,"49adbafd",null);e["a"]=c.exports},"2ca6":function(t,e,a){"use strict";var o=a("8bf9"),s=a.n(o);s.a},"32f8":function(t,e,a){},5774:function(t,e,a){},"6c00":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"page",staticClass:"fit",attrs:{id:"publicRoleManager"}},[a("ts-border-layout",{attrs:{layout:{footer:"70px"},centerCfg:{showBar:!0,toolBarStyle:{height:"70px",lineHeight:"70px"}},"footer-cfg":{showBorder:!1}}},[a("div",{class:["center-box",t.layout,t.pageWidth],attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"search-input"},[a("a-input-search",{staticClass:"search-ipt",staticStyle:{width:"500px"},attrs:{placeholder:"请输入服务器异常ID、IP地址、访问端口",enterButton:"搜索"},on:{search:t.querySearchName},model:{value:t.param,callback:function(e){t.param=e},expression:"param"}})],1)]),a("div",{attrs:{slot:"centerExtraContent"},slot:"centerExtraContent"},[a("div",{staticClass:"extra-left"},[a("a-range-picker",{on:{change:t.onChangeDatePicker}})],1)]),a("a-table",{attrs:{rowKey:function(t){return t.id},columns:t.columns,dataSource:t.typeGridData,pagination:!1,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.fnOnChange}},scopedSlots:t._u([{key:"url",fn:function(e){return a("div",{},[a("a-tooltip",[a("template",{slot:"title"},[t._v(t._s(e))]),a("div",{staticClass:"column-tip"},[t._v(" "+t._s(e)+" ")])],2)],1)}}])},[a("span",{attrs:{slot:"action"},slot:"action"},[a("ts-table-operate",{attrs:{operateMenu:t.operateMenu}})],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(t){return"总数："+t+" 条"},showSizeChanger:"",showQuickJumper:"",total:t.total,defaultPageSize:10,current:t.pageNumber},on:{change:t.changePagination}})],1)],1),a("a-modal",{attrs:{footer:null,width:"1000px"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("show-log",{attrs:{data:t.rowData}})],1)],1)},s=[],l=a("5530"),i=a("2f62"),r=a("0a54"),n=a("d2ec"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ts-label-con",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务地址：",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("span",[t._v(t._s(t.data.ipAddress?t.data.ipAddress:""))])]),a("ts-label-con",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"异常类型：",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("span",[t._v(t._s(t.data.exceptionName))])]),a("ts-label-con",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"异常信息：",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-textarea",{staticClass:"textarea",attrs:{autosize:{minRows:20,maxRows:20},readonly:"readonly"},model:{value:t.data.contentStr,callback:function(e){t.$set(t.data,"contentStr",e)},expression:"data.contentStr"}})],1)],1)},h=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ta-label-con ant-row",class:t.className.con},[a("div",{staticClass:"ta-label-con-label",class:t.className.labelCol,style:{textAlign:t.labelAlign}},[t.label&&t.label.length?a("span",{attrs:{title:t.label}},[t._v(t._s(t.label))]):t._t("label")],2),a("div",{staticClass:"ta-label-con-form",class:t.className.wrapperCol},[t._t("default"),t.extra&&t.extra.length?a("div",{staticClass:"ta-label-con-extra"},[t._v(" "+t._s(t.extra)+" ")]):t._t("extra")],2)])},f=[],u={name:"TsLabelCon",props:{label:{type:String},labelAlign:{type:String},labelPosition:{type:String,default:"left"},colon:{type:Boolean,default:!0},extra:{type:String},labelCol:{type:Object,default:function(){return{span:6}}},wrapperCol:{type:Object,default:function(){return{span:18}}}},computed:{className:function(){var t={labelCol:[],wrapperCol:[],con:[]};return this.extra&&this.extra.length&&t.con.push("ta-label-con-with-extra"),this.colon||t.labelCol.push("ta-label-con-no-colon"),"left"==this.labelPosition?(this.labelCol.span&&t.labelCol.push("ant-col-"+this.labelCol.span),this.labelCol.offset&&t.labelCol.push("ant-col-offset-"+this.labelCol.offset),this.wrapperCol.span&&t.wrapperCol.push("ant-col-"+this.wrapperCol.span),this.wrapperCol.offset&&t.wrapperCol.push("ant-col-offset-"+this.wrapperCol.offset)):"top"==this.labelPosition&&t.con.push("ta-label-con-top"),t}}},p=u,g=(a("2ca6"),a("0c7c")),y=Object(g["a"])(p,d,f,!1,null,"55dd177d",null),C=y.exports,b={labelCol:{span:2},wrapperCol:{span:22}},m={props:["data"],data:function(){return{formItemLayout:b}},components:{TsLabelCon:C}},x=m,w=Object(g["a"])(x,c,h,!1,null,null,null),v=w.exports,_=a("dde5"),S=[{title:"异常类型",dataIndex:"exceptionName",width:"12%",overflowTooltip:!0},{title:"访问URL",dataIndex:"url",scopedSlots:{customRender:"url"},width:"300px",overflowTooltip:!0,align:"center"},{title:"服务器ip地址",dataIndex:"ipAddress",width:"12%",overflowTooltip:!0,align:"center"},{title:"访问端口",dataIndex:"port",width:"6%",align:"center"},{title:"客户端ip地址",dataIndex:"clientIp",width:"10%",overflowTooltip:!0,align:"center"},{title:"报错时间",dataIndex:"createTime",width:"15%",overflowTooltip:!0,align:"center"},{title:"数据是否被篡改",dataIndex:"isTampered",width:"9%",overflowTooltip:!0,align:"center"},{title:"操作选项",dataIndex:"action",width:"120px",scopedSlots:{customRender:"action"},align:"center"}],k={labelCol:{span:6},wrapperCol:{span:18}},B={name:"SearchLayout",computed:Object(l["a"])({},Object(i["d"])("setting",["layout","pageWidth"])),components:{TsBorderLayout:r["a"],TsTableOperate:n["a"],ShowLog:v},data:function(){var t=this;return{formItemLayout:k,columns:S,typeGridData:[],typeInfo:"",typeDrawerVisible:!1,selectedRowKeys:[],selectedRows:[],rowData:{},pageNumber:1,pageSize:10,total:0,param:"",startDate:"",endDate:"",visible:!1,operateMenu:[{name:"详细异常信息",onClick:function(e){t.showModal(e)}}]}},mounted:function(){this.loadData(this.getSearchParams())},methods:{loadData:function(t){var e=this;_["h"].queryExceptionLog(t).then((function(t){var a=t.data;e.typeGridData=a.data.pageBean.list,e.total=a.data.pageBean.total>0?a.data.pageBean.total:e.total}))},getSearchParams:function(){var t={pageSize:this.pageSize,pageNumber:this.pageNumber};return t.startDate=this.startDate,t.endDate=this.endDate,t.userName=this.param,t},querySearchName:function(){this.pageNumber=1,this.startDate="",this.endDate="",this.loadData(this.getSearchParams())},onChangeDatePicker:function(t,e){},changePagination:function(t,e){this.pageNumber=t,this.pageSize=e,this.loadData(this.getSearchParams())},fnOnChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},showModal:function(t){this.rowData=t,console.log(this.rowData),this.visible=!0}}},O=B,T=(a("9973"),Object(g["a"])(O,o,s,!1,null,"3f0006ac",null));e["default"]=T.exports},"8bf9":function(t,e,a){},9973:function(t,e,a){"use strict";var o=a("32f8"),s=a.n(o);s.a},d2ec:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-operate"},t._l(t.showMenu,(function(e,o){return a("span",{key:o,style:{cursor:e.disabled?"not-allowed":""},attrs:{title:e.disabled?e.title:""}},["confirm"==e.type?a("a-popconfirm",{attrs:{title:e.confirmTitle},on:{confirm:function(a){e.onOk&&e.onOk(t.record,t.index)},cancel:function(a){e.onCancel&&e.onCancel(t.record,t.index)}}},[a("a",{class:e.class,style:e.style,attrs:{title:e.title,disabled:e.disabled}},[e.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:e.icon,theme:e.iconTheme}}):t._e(),t._v(t._s(e.name))],1)]):"more"==e.type?a("a-dropdown",{attrs:{trigger:["click"],overlayClassName:"table-operate-more"}},[a("a",{class:e.class,style:e.style,attrs:{title:e.title,disabled:e.disabled},on:{click:function(a){return t.menuClick(e)}}},[e.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:e.icon,theme:e.iconTheme}}):t._e(),t._v(t._s(e.name)+" "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[t._l(e.moreMenuList,(function(o,s){return[o.isShow?a("a-menu-item",{key:s,attrs:{disabled:o.disabled,title:o.title},on:{click:function(e){return t.menuClick(o)}}},["confirm"==o.type?a("a-popconfirm",{attrs:{title:o.confirmTitle},on:{confirm:function(e){o.onOk&&o.onOk(t.record,t.index)},cancel:function(e){o.onCancel&&o.onCancel(t.record,t.index)}}},[a("div",{class:o.class,style:Object.assign({},{"pointer-events":o.disabled?"none":""},e.style)},[o.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:o.icon,theme:o.iconTheme}}):t._e(),t._v(" "+t._s(o.name))],1)]):a("div",{class:o.class,style:e.style},[o.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:o.icon,theme:o.iconTheme}}):t._e(),t._v(" "+t._s(o.name))],1)],1):t._e()]}))],2)],1):a("a",{class:e.class,style:e.style,attrs:{title:e.title,disabled:e.disabled},on:{click:function(a){return t.menuClick(e)}}},[e.icon?a("a-icon",{staticClass:"mg-r6",attrs:{type:e.icon,theme:e.iconTheme}}):t._e(),t._v(t._s(e.name))],1),o!=t.showMenu.length-1?a("a-divider",{attrs:{type:"vertical"}}):t._e()],1)})),0)},s=[],l=(a("a15b"),a("b0c0"),a("5530")),i={name:"TsTableOperate",props:{operateMenu:{type:Array}},computed:{tableTd:function(){return this.getTableTd()},record:function(){return this.tableTd.record},index:function(){return this.tableTd.index},showMenu:function(){return this.getMenu(this.operateMenu)}},methods:{getTableTd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$parent,e={};return e=t.component&&"td"==t.component?t:this.getTableTd(t.$parent),e},getMenu:function(t){for(var e=[],a=(this.record,this.index,0);a<t.length;a++)if(this.getBoolean(t[a].isShow)){var o=Object(l["a"])({},t[a]);o.isShow=!0,o.name=this.getName(o.name,"操作按钮"),o.title=this.getName(o.title,""),o.disabled=this.getBoolean(o.disabled,"disabled"),o.class=o.class?this.getClassStyle(o.class,"class"):void 0,o.style=o.style?this.getClassStyle(o.style):void 0,o.iconTheme=o.iconTheme||"outlined","confirm"==o.type&&(o.confirmTitle=this.getName(o.confirmTitle,"确认删除该信息？")),"more"==o.type&&o.moreMenuList&&o.moreMenuList.length&&(o.moreMenuList=this.getMenu(o.moreMenuList)),"delete"==o.type&&(o.type="confirm",o.confirmTitle=this.getName(o.deleteTitle,"确认删除该信息？"),o.onOk=o.onDelete),e.push(o)}return e},getBoolean:function(t,e){var a;return a=void 0==t?"disabled"!=e:"function"==typeof t?t(this.record,this.index):t,Boolean(a)},getName:function(t,e){var a=e;return void 0!=t&&(a="function"==typeof t?t(this.record,this.index):t),a},getClassStyle:function(t,e){var a=t;return t&&"function"==typeof t&&(a=t(this.record,this.index)),"class"==e&&a instanceof Array&&(a=a.join(" ")),a},menuClick:function(t){"confirm"!=t.type&&t.onClick&&t.onClick(this.record,this.index)}}},r=i,n=a("0c7c"),c=Object(n["a"])(r,o,s,!1,null,null,null);e["a"]=c.exports},e58a:function(t,e,a){"use strict";var o=a("5774"),s=a.n(o);s.a}}]);