(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90c3b1b4","chunk-47d84912"],{"021f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-form",{attrs:{form:e.form,layout:"horizontal"}},[a("a-row",[a("h4",{staticStyle:{"font-weight":"bold"}},[e._v("基础信息")])]),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"设备名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"deviceName"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceName",{rules:[{required:!0,message:"请输入设备名称"}]}],expression:"[\n                'deviceName',\n                { rules: [{ required: true, message: '请输入设备名称' }] },\n              ]"}],attrs:{placeholder:"请输入",disabled:""}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"设备ID",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"deviceIdentify"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceIdentify",{rules:[{required:!0,message:"请输入设备ID"}]}],expression:"[\n                'deviceIdentify',\n                { rules: [{ required: true, message: '请输入设备ID' }] },\n              ]"}],attrs:{disabled:"",placeholder:"请输入"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"设备密钥",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"deviceSecret"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceSecret",{rules:[{required:!0,message:"请输入设备密钥"}]}],expression:"[\n                'deviceSecret',\n                { rules: [{ required: true, message: '请输入设备密钥' }] },\n              ]"}],attrs:{disabled:"",placeholder:"请输入"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"所属项目",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"projectId"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["projectId",{rules:[{required:!0,message:"请选择项目"}]}],expression:"[\n                'projectId',\n                { rules: [{ required: true, message: '请选择项目' }] },\n              ]"}],attrs:{disabled:"",placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[e._v(" 金科十年城 ")]),a("a-select-option",{attrs:{value:"2"}},[e._v(" 金科集美嘉悦 ")]),a("a-select-option",{attrs:{value:"3"}},[e._v(" 金科天元道 ")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"产品",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"productId"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["productId",{rules:[{required:!0,message:"请选择产品"}]}],expression:"[\n                'productId',\n                { rules: [{ required: true, message: '请选择产品' }] },\n              ]"}],attrs:{disabled:"",placeholder:"请选择"}},e._l(e.productList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:JSON.stringify(t)}},[e._v(" "+e._s(t.productName)+" ")])})),1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"启动/停用",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"enableFlag"}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["enableFlag",{valuePropName:"checked",rules:[{required:!0,message:"请选择"}],initialValue:!0}],expression:"['enableFlag', {valuePropName: 'checked', rules: [{ required: true, message: '请选择' }],initialValue: true}]"}],attrs:{disabled:""}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"备注",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol,fieldDecoratorId:"description"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}],attrs:{disabled:"",rows:4,placeholder:"请输入"}})],1)],1)],1),a("a-row",[a("h4",{staticStyle:{"font-weight":"bold"}},[e._v("拓展信息")])]),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"地址信息",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"},attrs:{fieldDecoratorId:"longitude"}},[a("label",{staticClass:"swi_label"},[e._v("经度")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["longitude"],expression:"['longitude']"}],staticStyle:{width:"70%"},attrs:{disabled:"",placeholder:"输入数值"}})],1),a("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[e._v(" - ")]),a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"},attrs:{fieldDecoratorId:"latitude"}},[a("label",{staticClass:"swi_label"},[e._v("纬度")]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["latitude"],expression:"['latitude']"}],staticStyle:{width:"70%"},attrs:{disabled:"",placeholder:"输入数值"}})],1)],1)],1)],1)],1)],1)],1)},o=[],n=a("dde5"),i={props:["paramJson"],data:function(){return{form:this.$form.createForm(this,{}),formItemLayout:{labelCol:{span:6},wrapperCol:{span:10}},productList:[]}},mounted:function(){},methods:{queryDeviceInfo:function(e){var t=this;n["a"].queryDeviceInfo({id:e}).then((function(e){var a=e.data;a.enableFlag="1"==a.enableFlag,t.form.setFieldsValue(a);var r={id:a.productId,enableFlag:"1",pageNumber:1,pageSize:10};n["f"].queryProduct(r).then((function(e){var a=e.data;t.form.setFieldsValue({productId:a.data.pageBean.list[0].productName})}))}))}}},s=i,l=(a("3a4d"),a("0c7c")),c=Object(l["a"])(s,r,o,!1,null,"6bb637d4",null);t["default"]=c.exports},"17af":function(e,t,a){},"336f":function(e,t,a){},"3a4d":function(e,t,a){"use strict";var r=a("336f"),o=a.n(r);o.a},"3f30":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-tabs",{attrs:{"default-active-key":"1"},on:{change:e.changeTab}},[a("a-tab-pane",{key:"1",attrs:{tab:"设备信息"}},[a("device-info",{ref:"parentForm",attrs:{paramJson:e.paramJson}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"属性"}},[a("device-attr",{attrs:{propsDevId:e.deviceId}})],1),a("a-tab-pane",{key:"3",attrs:{tab:"服务"}},[a("device-service")],1),a("a-tab-pane",{key:"4",attrs:{tab:"事件"}},[a("device-event")],1)],1)],1)],1)},o=[],n=a("021f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("h4",{staticStyle:{"font-weight":"bold"}},[e._v("属性")])]),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"属性名称",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryAttr()}},model:{value:e.form.funcName,callback:function(t){e.$set(e.form,"funcName",t)},expression:"form.funcName"}})],1)],1),a("a-col",{staticStyle:{"margin-top":"3px"},attrs:{md:8,sm:24}},[a("a-button",{style:{marginRight:"8px"},attrs:{type:"primary"},on:{click:function(t){return e.queryAttr()}}},[e._v("查询")]),a("a-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1),a("a-row",[a("web-socket",{ref:"parentForm",attrs:{devId:e.propsDevId},on:{saveSuccess:e.saveSuccess}})],1)],1)]),a("a-table",{attrs:{rowKey:function(e){return e.id},columns:e.dataColumns,dataSource:e.dataSource,pagination:!1},scopedSlots:e._u([{key:"dataType",fn:function(t){return a("span",{},[e._v(" "+e._s(e.CollectionLabel("PARAMDATATYPE",t))+" ")])}},{key:"rwType",fn:function(t){return a("span",{},[e._v(" "+e._s(e.CollectionLabel("RWTYPE",t))+" ")])}},{key:"action",fn:function(t,r){return["2"===r.attrType?a("a",{style:{marginRight:"8px"},on:{click:function(){return e.history(r)}}},[e._v("历史值")]):e._e(),"rw"===r.rwType||"w"===r.rwType?a("a",{style:{marginRight:"8px"},on:{click:function(){return e.write(r)}}},[e._v("写入")]):e._e()]}}])},[a("span",{attrs:{slot:"writeValue"},slot:"writeValue"},[e._v(" - ")])]),a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(e){return"总数："+e+" 条"},showSizeChanger:"",showQuickJumper:"",total:e.total,defaultPageSize:10,current:e.pageNumber},on:{change:e.changePage}})],1),e.showHistory?a("a-modal",{attrs:{title:"历史值",width:800,visible:e.showHistory,"ok-button-props":{style:{display:"none"}}},on:{cancel:e.cancelHis}},[a("attr-history",{attrs:{hisJson:e.hisJson}})],1):e._e(),e.showWrite?a("a-modal",{attrs:{title:"写入数据",width:800,visible:e.showWrite},on:{ok:e.writeData,cancel:e.cancelWrite}},[a("attr-write",{ref:"writeForm",attrs:{writeJson:e.writeJson},on:{saveWrite:e.saveWrite}})],1):e._e()],1)},s=[],l=(a("4160"),a("a15b"),a("159b"),a("b166")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},u=[],d=(a("8a79"),{name:"WebSocket",props:["devId"],data:function(){return{timeout:12e4,timeoutObj:null,total:0,pageNumber:1,pageSize:10}},created:function(){this.webSocket(this.devId)},destroyed:function(){this.websocketclose(),this.heartCheckClose()},methods:{webSocket:function(e){if("WebSocket"in window){var t="http://aiot.tq-service.com/iot/";t.endsWith("/")&&(t=t.substring(0,t.length-1));var a="ws:"+t.substring(5)+"/websocket/";this.websock=new WebSocket(a+e)}else alert("你的浏览器暂不支持websocket :(");console.log(this.websock),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){this.heartCheckStart()},websocketonerror:function(e){console.log("WebSocket连接发生错误")},websocketonmessage:function(e){this.$emit("saveSuccess",e.data),this.heartCheckReset()},websocketsend:function(e){this.websock.send(e)},websocketclose:function(e){this.websock.close()},heartCheckReset:function(){var e=this;clearTimeout(e.timeoutObj),this.heartCheckStart()},heartCheckClose:function(){var e=this;clearTimeout(e.timeoutObj)},heartCheckStart:function(){var e=this;e.timeoutObj=setTimeout((function(){var t={type:"F5",service:"心跳refresh =="+new Date};console.log("心跳一次"),e.websocketsend(JSON.stringify(t))}),e.timeout)}}}),m=d,p=a("0c7c"),f=Object(p["a"])(m,c,u,!1,null,"592021fa",null),h=f.exports,v=a("dde5"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{attrs:{layout:"horizontal"}},[a("a-row",[a("a-col",{attrs:{md:10,sm:28}},[a("a-form-item",{attrs:{label:"时间范围",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-range-picker",{on:{change:e.onChange},model:{value:e.timeEl,callback:function(t){e.timeEl=t},expression:"timeEl"}})],1)],1),a("a-col",{staticStyle:{float:"right","margin-top":"3px"},attrs:{md:10,sm:18}},[a("a-button",{style:{marginRight:"8px"},attrs:{type:"primary"},on:{click:function(t){return e.queryAttr()}}},[e._v("查询")]),a("a-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1),a("a-table",{attrs:{columns:e.dataColumns,dataSource:e.dataSource,pagination:!1}})],1)},b=[],y=[{title:"时间",dataIndex:"ts"},{title:"属性值",dataIndex:"value"}],w={props:["hisJson"],data:function(){return{form:{},timeEl:[],dataSource:[],dataColumns:y,total:0,pageNumber:1,pageSize:10,limit:10,interval:-1}},mounted:function(){this.queryAttr()},methods:{onChange:function(e,t){this.form.startTime=t[0],this.form.endTime=t[1]},queryAttr:function(){var e=this,t=this.form;t.limit=this.limit,t.interval=this.interval,t.deviceId=this.hisJson.deviceId,t.tags=this.hisJson.tag,v["d"].getAttrHis(t).then((function(a){var r=a.data;if(0===r.code){var o=r.result;if("{}"==JSON.stringify(o))e.dataSource=[];else for(var n in o)n===t.tags&&o[n].forEach((function(t){e.dataSource.push({ts:Object(l["a"])(t.ts,"yyyy-MM-dd hh:mm:ss"),value:t.value})}))}}))},resetForm:function(){this.form={},this.timeEl=[]}}},k=w,S=Object(p["a"])(k,g,b,!1,null,"8c84c646",null),I=S.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-form",{attrs:{form:e.form,layout:"horizontal"}},[a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"属性名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["attrName",{rules:[{required:!1,message:"请输入属性名称"}]}],expression:"[\n                'attrName',\n                { rules: [{ required: false, message: '请输入属性名称' }] },\n              ]"}],attrs:{disabled:""}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"写入",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["value",{rules:[{required:!0,message:"请输入写入值"}]}],expression:"[\n                'value',\n                { rules: [{ required: true, message: '请输入写入值' }] },\n              ]"}]})],1)],1)],1)],1)],1)],1)},_=[],x={props:["writeJson"],data:function(){return{formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},form:this.$form.createForm(this,{})}},mounted:function(){this.form.setFieldsValue({attrName:this.writeJson.funcName})},methods:{saveForm:function(){var e=this,t=this.form.getFieldsValue();t.tag=this.writeJson.funcTag,t.deviceId=this.writeJson.deviceId,console.log(t),this.form.validateFields((function(a,r){a||v["d"].writeData(t).then((function(t){var a=t.data;0===a.result.code?(e.$message.success("写入数据成功"),e.$emit("saveWrite")):(e.$message.error("写入数据失败"),console.log(a))}))}))}}},N=x,T=Object(p["a"])(N,C,_,!1,null,"21754ce2",null),q=T.exports,F=localStorage.getItem("admin.user"),J=("undefined"!==F&&JSON.parse(F),[{title:"属性名称",dataIndex:"funcName"},{title:"标识符",dataIndex:"funcTag"},{title:"数据类型",dataIndex:"dataType",scopedSlots:{customRender:"dataType"}},{title:"最近更新时间",dataIndex:"lastUpdateTime",scopedSlots:{customRender:"lastUpdateTime"}},{title:"当前值",dataIndex:"currentValue"},{title:"写入值",dataIndex:"writeValue",scopedSlots:{customRender:"writeValue"}},{title:"读写类型",dataIndex:"rwType",scopedSlots:{customRender:"rwType"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]),W={components:{WebSocket:h,attrHistory:I,attrWrite:q},props:["propsDevId"],data:function(){return{form:{},dataSource:[],dataColumns:J,total:0,pageNumber:1,pageSize:10,funcTags:[],showHistory:!1,showWrite:!1,hisJson:{},writeJson:{}}},mounted:function(){this.queryAttr()},methods:{changePage:function(e,t){this.pageNumber=e,this.pageSize=t,this.queryAttr()},queryAttr:function(){var e=this,t=this.form;t.funcType="11",v["d"].queryFuncBydevId(t).then((function(t){var a=t.data;a.serviceSuccess&&(e.dataSource=a.data.pageBean.list,e.dataSource.forEach((function(t){e.funcTags.push(t.funcTag)})),e.sendWebsocket(),e.total=a.data.pageBean.total>0?a.data.pageBean.total:e.total)}))},saveSuccess:function(e){var t=this,a=JSON.parse(e);0==a.code?1==a.type&&a.result.forEach((function(e){t.dataSource.forEach((function(t){e.key===t.funcTag&&(t.lastUpdateTime=Object(l["a"])(e.lastUpdateTs,"yyyy-MM-dd hh:mm:ss"),t.currentValue=e.value+"")}))})):this.$message.error(a.msg)},sendWebsocket:function(){var e={type:"1",tags:this.funcTags.join(",")};this.$refs.parentForm.websocketsend(JSON.stringify(e))},resetForm:function(){this.form={},this.queryAttr()},history:function(e){this.showHistory=!0,this.hisJson.deviceId=this.propsDevId,this.hisJson.tag=e.funcTag},write:function(e){this.writeJson.funcTag=e.funcTag,this.writeJson.funcName=e.funcName,this.writeJson.deviceId=this.propsDevId,this.showWrite=!0},cancelHis:function(){this.showHistory=!1},writeData:function(){this.$refs.writeForm.saveForm()},saveWrite:function(){this.showWrite=!1},cancelWrite:function(){this.showWrite=!1}}},R=W,D=Object(p["a"])(R,i,s,!1,null,"5c9be6ad",null),L=D.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("h4",{staticStyle:{"font-weight":"bold"}},[e._v("事件")])]),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"时间范围",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-range-picker",{on:{change:e.onChange},model:{value:e.timeEl,callback:function(t){e.timeEl=t},expression:"timeEl"}})],1)],1),a("a-col",{staticStyle:{"margin-top":"3px"},attrs:{md:8,sm:24}},[a("a-button",{style:{marginRight:"8px"},attrs:{type:"primary"},on:{click:function(t){return e.queryAttr()}}},[e._v("查询")]),a("a-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1)]),a("a-table",{attrs:{rowKey:function(e){return e.id},columns:e.dataColumns,dataSource:e.dataSource,pagination:!1},scopedSlots:e._u([{key:"nodeType",fn:function(t){return a("span",{},[1==t?a("label",{key:t},[e._v("直连设备")]):2==t?a("label",{key:t},[e._v("网关设备")]):3==t?a("label",{key:t},[e._v("网关子设备")]):e._e()])}},{key:"networkWay",fn:function(t){return a("span",{},[1==t?a("label",{key:t},[e._v("WIFI")]):2==t?a("label",{key:t},[e._v("以太网")]):3==t?a("label",{key:t},[e._v("蜂窝（4G、5G)")]):4==t?a("label",{key:t},[e._v("LoRaWAN")]):5==t?a("label",{key:t},[e._v("其他")]):e._e()])}},{key:"enableFlag",fn:function(t,r){return a("span",{},[a("a-switch",{attrs:{checked:1==t},on:{change:function(t){return e.onChangeSwitch(r)}}})],1)}},{key:"action",fn:function(t,r){return[a("div",{staticClass:"editable-row-operations"},[a("a",{style:{marginRight:"8px"},on:{click:function(){return e.view(r)}}},[e._v("查看")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return e.edit(r)}}},[e._v("编辑")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return e.deviceMg(r)}}},[e._v("管理设备")]),a("a-popconfirm",{attrs:{title:"是否确定删除该记录？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.deleteRecord(r)}}},[a("a",{attrs:{href:"#"}},[e._v("删除")])])],1)]}}])}),a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(e){return"总数："+e+" 条"},showSizeChanger:"",showQuickJumper:"",total:e.total,defaultPageSize:10,current:e.pageNumber},on:{change:e.changePage}})],1)],1)},O=[],z=[{title:"时间",dataIndex:"funcName"},{title:"事件名称",dataIndex:"funcTag"},{title:"标识符",dataIndex:"funcTag"},{title:"事件类型",dataIndex:"eventType",scopedSlots:{customRender:"eventType"}},{title:"输出参数",dataIndex:"lastUpdateTime",scopedSlots:{customRender:"lastUpdateTime"}},{title:"描述",dataIndex:"currentValue",scopedSlots:{customRender:"currentValue"}}],$={data:function(){return{form:{},timeEl:[],dataSource:[],dataColumns:z,total:0,pageNumber:1,pageSize:10}},mounted:function(){},methods:{changePage:function(e,t){this.pageNumber=e,this.pageSize=t}}},A=$,j=Object(p["a"])(A,E,O,!1,null,"b170f842",null),P=j.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("h4",{staticStyle:{"font-weight":"bold"}},[e._v("服务")])]),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"服务名称",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryService()}},model:{value:e.form.serviceName,callback:function(t){e.$set(e.form,"serviceName",t)},expression:"form.serviceName"}})],1)],1),a("a-col",{staticStyle:{"margin-top":"3px"},attrs:{md:8,sm:24}},[a("a-button",{style:{marginRight:"8px"},attrs:{type:"primary"},on:{click:function(t){return e.queryService()}}},[e._v("查询")]),a("a-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1)]),a("a-table",{attrs:{rowKey:function(e){return e.id},columns:e.dataColumns,dataSource:e.dataSource,pagination:!1},scopedSlots:e._u([{key:"nodeType",fn:function(t){return a("span",{},[1==t?a("label",{key:t},[e._v("直连设备")]):2==t?a("label",{key:t},[e._v("网关设备")]):3==t?a("label",{key:t},[e._v("网关子设备")]):e._e()])}},{key:"networkWay",fn:function(t){return a("span",{},[1==t?a("label",{key:t},[e._v("WIFI")]):2==t?a("label",{key:t},[e._v("以太网")]):3==t?a("label",{key:t},[e._v("蜂窝（4G、5G)")]):4==t?a("label",{key:t},[e._v("LoRaWAN")]):5==t?a("label",{key:t},[e._v("其他")]):e._e()])}},{key:"enableFlag",fn:function(t,r){return a("span",{},[a("a-switch",{attrs:{checked:1==t},on:{change:function(t){return e.onChangeSwitch(r)}}})],1)}},{key:"action",fn:function(t,r){return[a("div",{staticClass:"editable-row-operations"},[a("a",{style:{marginRight:"8px"},on:{click:function(){return e.view(r)}}},[e._v("查看")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return e.edit(r)}}},[e._v("编辑")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return e.deviceMg(r)}}},[e._v("管理设备")]),a("a-popconfirm",{attrs:{title:"是否确定删除该记录？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.deleteRecord(r)}}},[a("a",{attrs:{href:"#"}},[e._v("删除")])])],1)]}}])}),a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(e){return"总数："+e+" 条"},showSizeChanger:"",showQuickJumper:"",total:e.total,defaultPageSize:10,current:e.pageNumber},on:{change:e.changePage}})],1)],1)},H=[],M=[{title:"服务名称",dataIndex:"funcName"},{title:"标识符",dataIndex:"funcTag"},{title:"连网调用",dataIndex:"dataType",scopedSlots:{customRender:"dataType"}},{title:"调用记录",dataIndex:"lastUpdateTime",scopedSlots:{customRender:"lastUpdateTime"}}],U={data:function(){return{form:{},dataSource:[],dataColumns:M,total:0,pageNumber:1,pageSize:10}},mounted:function(){},methods:{changePage:function(e,t){this.pageNumber=e,this.pageSize=t}}},B=U,G=Object(p["a"])(B,V,H,!1,null,"547a0f8a",null),K=G.exports,Q={components:{deviceInfo:n["default"],DeviceAttr:L,DeviceService:K,DeviceEvent:P},data:function(){return{deviceId:this.$route.query.id,paramJson:{}}},mounted:function(){console.log("激活"+this.deviceId),this.$refs.parentForm.queryDeviceInfo(this.deviceId)},methods:{changeTab:function(e){console.log(e)}}},Y=Q,X=(a("d2d1"),Object(p["a"])(Y,r,o,!1,null,"66713a2e",null));t["default"]=X.exports},"8a79":function(e,t,a){"use strict";var r=a("23e7"),o=a("06cf").f,n=a("50c4"),i=a("5a34"),s=a("1d80"),l=a("ab13"),c=a("c430"),u="".endsWith,d=Math.min,m=l("endsWith"),p=!c&&!m&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!p&&!m},{endsWith:function(e){var t=String(s(this));i(e);var a=arguments.length>1?arguments[1]:void 0,r=n(t.length),o=void 0===a?r:d(n(a),r),l=String(e);return u?u.call(t,l,o):t.slice(o-l.length,o)===l}})},d2d1:function(e,t,a){"use strict";var r=a("17af"),o=a.n(r);o.a}}]);