(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237742"],{fad5:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",[a("a-spin",{attrs:{size:"large",spinning:t.loading}},[a("a-form",{attrs:{layout:"horizontal"}},[a("div",[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"区域公司",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryProject()}},model:{value:t.form.areaCompany,callback:function(e){t.$set(t.form,"areaCompany",e)},expression:"form.areaCompany"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"城区公司",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryProject()}},model:{value:t.form.cityCompany,callback:function(e){t.$set(t.form,"cityCompany",e)},expression:"form.cityCompany"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"项目名称",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入",allowClear:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryProject()}},model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName",e)},expression:"form.projectName"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"连接/断开",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:t.form.connectFlag,callback:function(e){t.$set(t.form,"connectFlag",e)},expression:"form.connectFlag"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("连接")]),a("a-select-option",{attrs:{value:"0"}},[t._v("断开")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"对接状态",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:t.form.jointFlag,callback:function(e){t.$set(t.form,"jointFlag",e)},expression:"form.jointFlag"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("激活")]),a("a-select-option",{attrs:{value:"0"}},[t._v("未激活")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"软件类型",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:t.form.softType,callback:function(e){t.$set(t.form,"softType",e)},expression:"form.softType"}},[t._l(t.CollectionData("SOFTTYPE"),(function(e,o){return[a("a-select-option",{key:o,attrs:{value:e.value}},[t._v(t._s(e.label))])]}))],2)],1)],1)],1),a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"启用/停用",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:t.form.enableFlag,callback:function(e){t.$set(t.form,"enableFlag",e)},expression:"form.enableFlag"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("启用")]),a("a-select-option",{attrs:{value:"0"}},[t._v("停用")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"同步日期",labelCol:{span:5},wrapperCol:{span:15,offset:1}}},[a("a-range-picker",{on:{change:t.onChange},model:{value:t.timeEl,callback:function(e){t.timeEl=e},expression:"timeEl"}})],1)],1)],1)],1),a("span",{staticStyle:{float:"left","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.queryProject()}}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.resetForm()}}},[t._v("重置")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(e){return t.projectSync()}}},[t._v("项目同步")])],1),a("span",{staticStyle:{float:"right","margin-top":"3px"}},[a("a-button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(e){return t.projectPull()}}},[t._v("项目更新")])],1)]),a("div",{staticStyle:{"margin-top":"45px"}},[a("a-table",{attrs:{rowKey:function(t){return t.id},columns:t.dataColumns,dataSource:t.dataSource,pagination:!1},scopedSlots:t._u([{key:"enableFlag",fn:function(e,o){return a("span",{},[a("a-switch",{attrs:{checked:1==e},on:{change:function(e){return t.onChangeSwitch(o)}}})],1)}},{key:"softType",fn:function(e){return a("span",{},[t._v(" "+t._s(t.CollectionLabel("SOFTTYPE",e))+" ")])}},{key:"action",fn:function(e,o){return[a("div",{staticClass:"editable-row-operations"},[a("a",{style:{marginRight:"8px"},on:{click:function(){return t.view(o)}}},[t._v("查看")]),a("a",{style:{marginRight:"8px"},on:{click:function(){return t.edit(o)}}},[t._v("编辑")])])]}}])}),a("a-pagination",{ref:"gridPager",staticStyle:{float:"right","margin-top":"10px"},attrs:{"show-total":function(t){return"总数："+t+" 条"},showSizeChanger:"",showQuickJumper:"",total:t.total,defaultPageSize:10,current:t.pageNumber},on:{change:t.changePage}})],1)],1)],1),t.showProject?a("a-modal",{attrs:{title:"项目同步",width:800,visible:t.showProject},on:{ok:t.ok,cancel:t.cancel}},[a("project-sync",{ref:"parentForm",on:{saveSuccess:t.saveSuccess}})],1):t._e(),t.showInfo?a("a-modal",{attrs:{title:"项目详情",width:800,visible:t.showInfo,footer:null},on:{cancel:t.cancelInfo}},[a("project-info",{attrs:{rowJson:t.rowJson}})],1):t._e(),t.showEdit?a("a-modal",{attrs:{title:"项目编辑",width:800,visible:t.showEdit},on:{ok:t.okEdit,cancel:t.cancelEdit}},[a("project-edit",{ref:"form",attrs:{paramJson:t.paramJson},on:{saveEdit:t.saveEdit}})],1):t._e()],1)},s=[],r=a("dde5"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"420px"}},[a("a-spin",{attrs:{size:"large",spinning:t.loading}},[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"项目名称",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-tree-select",{staticStyle:{width:"100%",float:"left"},attrs:{treeDefaultExpandAll:!1,showSearch:"",treeNodeFilterProp:"title",treeCheckable:!0,"dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.treeData,placeholder:"请选择项目","allow-clear":"","tree-default-expand-all":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1)],1)],1)},l=[],i=(a("a15b"),a("ac1f"),a("5319"),[]),c={data:function(){return{form:this.$form.createForm(this,{}),formItemLayout:{labelCol:{span:3},wrapperCol:{span:18}},loading:!1,value:void 0,treeData:i,initData:[]}},watch:{value:function(t){console.log(t)}},mounted:function(){this.getTreeData()},methods:{getTreeData:function(){var t=this;r["g"].getProjectData({id:1}).then((function(e){var a=e.data;t.initData=a.data.data;var o=a.data.result,s=JSON.parse(JSON.stringify(o).replace(/id/g,"value").replace(/dname/g,"title"));t.treeData=s}))},saveForm:function(){var t=this;void 0!=this.value?(this.loading=!0,r["g"].projectSync({ids:this.value.join(",")}).then((function(e){var a=e.data;t.loading=!1,a.serviceSuccess?(t.$message.success("同步成功"),t.$emit("saveSuccess")):t.$message.error("同步失败")}))):this.$message.info("请选择项目")}}},p=c,m=a("0c7c"),u=Object(m["a"])(p,n,l,!1,null,null,null),d=u.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-descriptions",{attrs:{title:"项目信息",bordered:"",size:"small"}},[a("a-descriptions-item",{attrs:{label:"区域公司"}},[t._v(t._s(this.rowJson.areaCompany))]),a("a-descriptions-item",{attrs:{label:"城区公司",span:2}},[t._v(" "+t._s(this.rowJson.cityCompany)+" ")]),a("a-descriptions-item",{attrs:{label:"项目名称",span:3}},[t._v(" "+t._s(this.rowJson.projectName)+" ")]),a("a-descriptions-item",{attrs:{label:"经度"}},[t._v(" "+t._s(this.rowJson.longitude)+" ")]),a("a-descriptions-item",{attrs:{label:"纬度",span:2}},[t._v(" "+t._s(this.rowJson.latitude)+" ")]),a("a-descriptions-item",{attrs:{label:"省份"}},[t._v(" "+t._s(this.rowJson.province)+" ")]),a("a-descriptions-item",{attrs:{label:"城市",span:2}},[t._v(" "+t._s(this.rowJson.city)+" ")]),a("a-descriptions-item",{attrs:{label:"地区"}},[t._v(" "+t._s(this.rowJson.area)+" ")]),a("a-descriptions-item",{attrs:{label:"街道",span:2}},[t._v(" "+t._s(this.rowJson.street)+" ")]),a("a-descriptions-item",{attrs:{label:"地址"}},[t._v(" "+t._s(this.rowJson.address)+" ")]),a("a-descriptions-item",{attrs:{label:"电话",span:2}},[t._v(" "+t._s(this.rowJson.phone)+" ")])],1),a("a-descriptions",{staticStyle:{"margin-top":"20px"},attrs:{title:"同步信息",bordered:"",size:"small"}},[a("a-descriptions-item",{attrs:{label:"同步人员"}},[t._v(t._s(this.rowJson.syncBy))]),a("a-descriptions-item",{attrs:{label:"同步日期",span:2}},[t._v(t._s(this.rowJson.syncTime))]),a("a-descriptions-item",{attrs:{label:"启动/停用"}},[t._v(t._s("1"===this.rowJson.enableFlag?"启动":"停用"))]),a("a-descriptions-item",{attrs:{label:"激活状态",span:2}},[t._v(t._s("1"===this.rowJson.jointFlag?"激活":"未激活"))]),a("a-descriptions-item",{attrs:{label:"软件类型",span:3}},[t._v(" "+t._s(t.CollectionLabel("SOFTTYPE",this.rowJson.softType))+" ")])],1)],1)},h=[],v={props:["rowJson"],data:function(){return{}}},g=v,b=Object(m["a"])(g,f,h,!1,null,null,null),y=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-descriptions",{attrs:{title:"项目信息",bordered:"",size:"small"}},[a("a-descriptions-item",{attrs:{label:"区域公司"}},[t._v(t._s(this.paramJson.areaCompany))]),a("a-descriptions-item",{attrs:{label:"城区公司",span:2}},[t._v(" "+t._s(this.paramJson.cityCompany)+" ")]),a("a-descriptions-item",{attrs:{label:"项目名称",span:3}},[t._v(" "+t._s(this.paramJson.projectName)+" ")]),a("a-descriptions-item",{attrs:{label:"经度"}},[t._v(" "+t._s(this.paramJson.longitude)+" ")]),a("a-descriptions-item",{attrs:{label:"纬度",span:2}},[t._v(" "+t._s(this.paramJson.latitude)+" ")]),a("a-descriptions-item",{attrs:{label:"省份"}},[t._v(" "+t._s(this.paramJson.province)+" ")]),a("a-descriptions-item",{attrs:{label:"城市",span:2}},[t._v(" "+t._s(this.paramJson.city)+" ")]),a("a-descriptions-item",{attrs:{label:"地区"}},[t._v(" "+t._s(this.paramJson.area)+" ")]),a("a-descriptions-item",{attrs:{label:"街道",span:2}},[t._v(" "+t._s(this.paramJson.street)+" ")]),a("a-descriptions-item",{attrs:{label:"地址"}},[t._v(" "+t._s(this.paramJson.address)+" ")]),a("a-descriptions-item",{attrs:{label:"电话",span:2}},[t._v(" "+t._s(this.paramJson.phone)+" ")])],1),a("h3",{staticStyle:{"font-weight":"bold","margin-top":"20px"}},[t._v("编辑信息")]),a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"启动/停用",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["enableFlag",{valuePropName:"checked",rules:[{required:!0,message:"请选择"}],initialValue:!0}],expression:"[\n                  'enableFlag',\n                  {\n                      valuePropName: 'checked',\n                      rules: [{ required: true, message: '请选择' }],\n                      initialValue: true,\n                  },\n                  ]"}]})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"软件类型",labelCol:t.formItemLayout.labelCol,wrapperCol:t.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["softType",{rules:[{required:!0,message:"请选择软件类型"}]}],expression:"[\n              'softType',\n              { rules: [{ required: true, message: '请选择软件类型' }] },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择"}},[t._l(t.CollectionData("SOFTTYPE"),(function(e,o){return[a("a-select-option",{key:o,attrs:{value:e.value}},[t._v(t._s(e.label))])]}))],2)],1)],1)],1)],1)],1)},_=[],C={props:["paramJson"],data:function(){return{formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},form:this.$form.createForm(this,{})}},mounted:function(){this.query()},methods:{saveForm:function(){var t=this,e=this.form.getFieldsValue();e.enableFlag=e.enableFlag?"1":"0",e.id=this.paramJson.id,this.form.validateFields((function(a,o){a||r["g"].editProject(e).then((function(e){var a=e.data;a.serviceSuccess?t.$emit("saveEdit"):t.$message.error("保存失败")}))}))},query:function(){var t={};t.enableFlag="1"==this.paramJson.enableFlag,t.softType=this.paramJson.softType,this.form.setFieldsValue(t)}}},k=C,S=Object(m["a"])(k,w,_,!1,null,null,null),j=S.exports,J=[{title:"区域公司",dataIndex:"areaCompany",overflowTooltip:!0},{title:"城区公司",dataIndex:"cityCompany",overflowTooltip:!0},{title:"项目名称",dataIndex:"projectName"},{title:"启用/停用",dataIndex:"enableFlag",scopedSlots:{customRender:"enableFlag"}},{title:"连接/断开",dataIndex:"connectFlag",scopedSlots:{customRender:"connectFlag"}},{title:"对接状态",dataIndex:"jointFlag",scopedSlots:{customRender:"jointFlag"}},{title:"软件类型",dataIndex:"softType",scopedSlots:{customRender:"softType"}},{title:"同步日期",dataIndex:"syncTime",scopedSlots:{customRender:"syncTime"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],x={components:{projectSync:d,ProjectInfo:y,ProjectEdit:j},data:function(){return{form:{},timeEl:[],dataSource:[],dataColumns:J,total:0,pageNumber:1,pageSize:10,showProject:!1,loading:!1,showInfo:!1,rowJson:{},showEdit:!1,paramJson:{}}},mounted:function(){this.queryProject()},methods:{onChange:function(t,e){this.form.startTime=e[0],this.form.endTime=e[1]},resetForm:function(){this.form={},this.timeEl=[],this.queryProject()},projectSync:function(){this.showProject=!0},ok:function(){this.$refs.parentForm.saveForm()},saveSuccess:function(){this.showProject=!1,this.queryProject()},cancel:function(){this.showProject=!1},projectPull:function(){var t=this;this.loading=!0,r["g"].projectUpdate({id:1}).then((function(e){var a=e.data;t.loading=!1,a.serviceSuccess&&t.$message.success("更新成功")}))},queryProject:function(){var t=this,e=this.form;e.pageSize=this.pageSize,e.pageNumber=this.pageNumber,r["g"].queryProject(e).then((function(e){var a=e.data;a.serviceSuccess&&(t.dataSource=a.data.pageBean.list,t.total=a.data.pageBean.total>0?a.data.pageBean.total:t.total)}))},changePage:function(t,e){this.pageNumber=t,this.pageSize=e,this.queryProject()},view:function(t){this.showInfo=!0,this.rowJson=t},cancelInfo:function(){this.showInfo=!1},edit:function(t){console.log(t),this.showEdit=!0,this.paramJson=t},okEdit:function(){this.$refs.form.saveForm()},saveEdit:function(){this.showEdit=!1,this.queryProject()},cancelEdit:function(){this.showEdit=!1}}},F=x,P=Object(m["a"])(F,o,s,!1,null,"5134eb56",null);e["default"]=P.exports}}]);